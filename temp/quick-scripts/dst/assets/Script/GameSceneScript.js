
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/GameSceneScript.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '82bddpNDw9NMZSSqDnDP3Wd', 'GameSceneScript');
// Script/GameSceneScript.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
cc.Class({
  "extends": cc.Component,
  properties: {
    leftSeconds: {
      type: cc.integer,
      "default": 90
    },
    backgroundSong: {
      type: cc.AudioClip,
      "default": null
    },
    PauseButton: {
      type: cc.Button,
      "default": null
    },
    HelpButton: {
      type: cc.Button,
      "default": null
    },
    AudioButton: {
      type: cc.Button,
      "default": null
    },
    ReBackButton: {
      type: cc.Button,
      "default": null
    },
    TimeCountLabel: {
      type: cc.Button,
      "default": null
    },
    RoundLabel: {
      type: cc.Button,
      "default": null
    },
    ScoreLabel: {
      type: cc.Button,
      "default": null
    },
    PokerContainer: {
      type: cc.Prefab,
      "default": null
    },
    myPoker: {
      type: cc.Prefab,
      "default": null
    },
    PokerInstanceBackground: {
      type: cc.Sprite,
      "default": null
    },
    PokerStashView: {
      type: cc.Button,
      "default": null
    },
    CurrentPoker: {
      type: cc.Sprite,
      "default": null
    }
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    cc.audioEngine.playMusic(this.backgroundSong, true);
    var size = cc.view.getFrameSize();
    cc.log(size.width, size.height);
    var windowSize = cc.view.getVisibleSize();
    cc.log(windowSize.width, windowSize.height);
    var halfWidth = windowSize.width / 2;
    var halfHeight = windowSize.height / 2;
    var pauseSize = this.PauseButton.node.getBoundingBox();
    this.PauseButton.node.setAnchorPoint(0, 0);
    this.PauseButton.node.setPosition(-halfWidth + 40, -halfHeight + 30);
    this.HelpButton.node.setAnchorPoint(0, 0);
    this.HelpButton.node.setPosition(-87 - 40, -halfHeight + 11 + 30);
    this.AudioButton.node.setAnchorPoint(0, 0);
    this.AudioButton.node.setPosition(40, -halfHeight + 11 + 30);
    this.ReBackButton.node.setAnchorPoint(0, 0);
    this.ReBackButton.node.setPosition(halfWidth - 40 - 110, -halfHeight + 30);
    this.TimeCountLabel.node.setAnchorPoint(1, 0);
    this.TimeCountLabel.node.setPosition(0 - 107, halfHeight - 90 - 50);
    var labelNode = this.TimeCountLabel.node.getChildByName("Background").getChildByName("Label");
    var label = labelNode.getComponent(cc.Label);
    label.string = this.leftSeconds;
    this.RoundLabel.node.setAnchorPoint(0.5, 0);
    this.RoundLabel.node.setPosition(0, halfHeight - 90 - 50);
    var bg = this.RoundLabel.node.getChildByName("Background");
    var firstR = bg.getChildByName("FirstRound"); // firstR.node.opacity = 0;
    // bg.getChildByName("FirstRound").node.hi = false;
    // cc.log(bg.getChildByName("FirstRound"));
    // this.RoundLabel.node.getChildByName("Background").node.getChildByName("FirstRound").active = false;
    // this.RoundLabel.node.getChildByName("Background").node.getChildByName("FirstRound").node.active = false;

    this.ScoreLabel.node.setAnchorPoint(0, 0);
    this.ScoreLabel.node.setPosition(107, halfHeight - 90 - 50);
    this.PokerInstanceBackground.node.setAnchorPoint(0.5, 0.5); // cc.log(this.PokerInstanceBackground.node.getContentSize().width,this.PokerInstanceBackground.node.getContentSize().height);
    // cc.log(this.PokerInstanceBackground.node.getBoundingBox().size.width,this.PokerInstanceBackground.node.getBoundingBox().size.height);

    this.PokerInstanceBackground.node.setPosition(-halfWidth + 130 + 20, -halfHeight + 93 + 160);
    this.CurrentPoker.node.setAnchorPoint(0, 0.5);
    this.CurrentPoker.node.setPosition(0, -halfHeight + 95 + 160);
    this.PokerStashView.node.setAnchorPoint(1, 1);
    this.PokerStashView.node.setPosition(halfWidth - 10, -halfHeight + 190 + 160);

    for (var i = 0; i < 4; i++) {
      var pre = cc.instantiate(this.PokerContainer);
      pre._name = "CJH";
      this.node.addChild(pre);
      pre.setAnchorPoint(0.5, 0.5);
      pre.setPosition(-halfWidth + 78 + 60 + 157 * i, 0);
    }

    var array = this.pokerRandom();

    for (var _i = 0; _i < 52; _i++) {
      var _pre = cc.instantiate(this.myPoker);

      _pre.PokerNumber = array[_i]; // cc.log("PokerInit"+pre.PokerNumber);
      // cc.log("dianshu"+pre.PokerNumber);

      _pre._name = "Poker_" + _i;
      this.node.addChild(_pre);
      _pre.getChildByName("FrontView").active = false;

      _pre.setAnchorPoint(0.5, 0.5);

      _pre.setPosition(0, 0 - 200);
    }

    for (var index = 0; index < this.node.childrenCount; index++) {// cc.log(this.node.children[index]);
    }
  },
  start: function start() {
    var Tools = cc.find('Canvas').getComponent('ToolsScript');
    var bg = this.RoundLabel.node.getChildByName("Background");
    bg.getChildByName("FirstRound").active = false;
    bg.getChildByName("SecondRound").active = false;
    bg.getChildByName("ThirdRound").active = false;
    this.fapai(0);

    var _this = this;

    cc.director.getScheduler().schedule(function () {
      var labelNode = this.TimeCountLabel.node.getChildByName("Background").getChildByName("Label");
      var label = labelNode.getComponent(cc.Label);
      var timeString = Tools.FormatMMSS(_this.leftSeconds);
      cc.log(timeString);
      label.string = timeString;
      _this.leftSeconds--; // cc.log(_this.leftSeconds)
    }, this, 1, 100, 1, false);
  },
  // 发牌函数
  fapai: function fapai(seq) {
    var _this = this;

    var size = cc.view.getVisibleSize();

    var lastPocker = _this.PokerInstanceBackground.node.getChildByName("Poker_" + (seq - 1));

    var currentPoker = _this.node.getChildByName("Poker_" + seq);

    if (currentPoker === null) {
      cc.log("Test", lastPocker, currentPoker);

      _this.fanzhuan(lastPocker);

      return;
    } // 回调


    var end_func = cc.callFunc(function (target) {
      var base_count = parseInt(target._name.split("_")[1]) + 1;
      var curPos1 = target.convertToWorldSpaceAR(cc.v2(0, 0));

      var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1); // cc.log(target);


      target.setPosition(curPos2);
      target.PreviousParent = target.parent;
      target.parent = _this.PokerInstanceBackground.node;
      target.CurrentPosition = curPos1;

      _this.fapai(base_count);
    }.bind(currentPoker));
    var mto = cc.moveTo(0.05, cc.v2(-size.width / 2 + 20 + 72 + 2.2 * seq, -size.height / 2 + 95 + 160));
    var d1 = cc.delayTime(0.01);
    var seque = cc.sequence([d1, mto, end_func]);
    currentPoker.runAction(seque);
  },
  fanzhuan: function fanzhuan(pokernode) {
    var size = cc.view.getVisibleSize();

    var _this = this; // 先反转90变正面数据，再反转-90回来，结束，整个过程移动牌面到指定位置


    var d1 = cc.delayTime(0.01); // var mto = cc.moveTo(0.3, cc.v2(0 + 69,(-size.height / 2) + 95 + 160));

    var pos1 = pokernode.convertToWorldSpaceAR(cc.v2(0, 0));

    var pos2 = _this.CurrentPoker.node.convertToWorldSpaceAR(cc.v2(0, 0));

    var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x + 66, pos2.y - pos1.y));
    var fan1 = cc.scaleTo(0.15, 0.2, 1);
    var changeFront = cc.callFunc(function (target) {
      target.getChildByName("FrontView").active = true;
      target.getChildByName("Background").active = false;
    });
    var spawn = cc.spawn([mto, fan1]);
    pokernode.runAction(spawn);
    var d2 = cc.delayTime(0.15);
    var fan2 = cc.scaleTo(0.1, 1, 1);
    var animationFinished = cc.callFunc(function (target) {
      target.CurrentPosition = target.getPosition();
      var curPos1 = target.convertToWorldSpaceAR(cc.v2(0, 0));

      var curPos2 = _this.CurrentPoker.node.convertToNodeSpaceAR(curPos1); // cc.log(target);


      target.setPosition(curPos2);
      target.PreviousParent = target.parent;
      target.parent = _this.CurrentPoker.node; // cc.log(target.CurrentPosition);

      target.PreviousPosition = target.CurrentPosition;
      target.CurrentPosition = curPos1;
    });
    var sequ = cc.sequence([d2, changeFront, fan2, animationFinished]);
    pokernode.runAction(sequ); // var d3 = cc.delayTime(1.3);
    // var destroyPokerNode = cc.callFunc(function(target) {
    //     target.removeFromParent(true);
    //     target.destroy();
    // });
    // var sequ2 = cc.sequence([d3,destroyPokerNode]);
    // pokernode.runAction(sequ2);
  },
  pokerRandom: function pokerRandom() {
    var array = new Array();

    do {
      var num = this.randomNum(1, 53);

      if (array.indexOf(num) === -1) {
        array.push(num);
      } else {
        var index = array.indexOf(num);
      }
    } while (array.length < 52);

    return array;
  },
  //生成从minNum到maxNum的随机数
  randomNum: function randomNum(minNum, maxNum) {
    var num = Math.floor(Math.random() * (minNum - maxNum) + maxNum);
    return num;
  },
  StashClick: function StashClick(staBut) {
    var _this = this;

    var mainJS = cc.find('Canvas').getComponent('GameSceneScript');
    var pokerNode = mainJS.CurrentPoker.node;
    var BackgroundView = staBut.currentTarget.getChildByName('Background');

    if (BackgroundView.childrenCount > 0) {
      if (pokerNode.childrenCount > 0) {
        cc.log("中间节点被占了,需要先执行中间卡牌动画");
      } else {} // 执行回转动画


      var poker = BackgroundView.children[0]; // 先切换挂载的节点
      // var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));
      // var curPos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));
      // poker.setPosition(cc.v2(curPos1.x - curPos3.x,curPos1.y - curPos3.y));
      // poker.parent = pokerNode;
      // var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));
      // var pos2 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));
      // var mto = cc.moveBy(0.3, cc.v2(pos2.x - pos1.x + 65,pos2.y - pos1.y));
      // var totation = cc.rotateTo(0.3,0);
      // var spawn = cc.spawn([mto,totation]);
      // poker.runAction(spawn);

      var pos1 = poker.convertToWorldSpaceAR(cc.v2(0, 0));
      var pos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0, 0));
      var pos2 = pokerNode.convertToNodeSpaceAR(pos1);
      poker.setPosition(pos2);
      var mto = cc.moveBy(0.15, cc.v2(pos3.x - pos1.x + 65, pos3.y - pos1.y));
      var totation = cc.rotateTo(0.15, 0);
      var spawn = cc.spawn([mto, totation]);
      poker.runAction(spawn);
      poker.PreviousParent = poker.parent;
      poker.parent = pokerNode;
      poker.CurrentPosition = poker.PreviousPosition;
      poker.PreviousPosition = cc.v2(0, 0); // 执行牌局回退
    } else {
      if (_this.CurrentPoker.node.childrenCount > 0) {
        cc.log("我有孩子节点"); // 执行旋转动画

        var poker = _this.CurrentPoker.node.children[0]; // 先切换挂载的节点

        var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0, 0));
        var curPos3 = BackgroundView.convertToWorldSpaceAR(cc.v2(0, 0));
        poker.setPosition(cc.v2(curPos1.x - curPos3.x, curPos1.y - curPos3.y));
        poker.PreviousParent = poker.parent;
        poker.parent = BackgroundView;
        var pos1 = poker.convertToWorldSpaceAR(cc.v2(0, 0));
        var pos2 = BackgroundView.convertToWorldSpaceAR(cc.v2(0, 0));
        var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x, pos2.y - pos1.y));
        var totation = cc.rotateTo(0.15, 17);
        var spawn = cc.spawn([mto, totation]);
        poker.runAction(spawn);
        poker.getComponent(cc.Button).interactable = false;
        poker.interactable = false;
        var pos3 = poker.convertToWorldSpaceAR(cc.v2(0, 0));
        poker.PreviousPosition = poker.CurrentPosition;
        poker.CurrentPosition = pos3; // 执行牌局跟进

        var mainJS = cc.find('Canvas').getComponent('GameSceneScript');
        cc.log(mainJS.PokerInstanceBackground.node.children);
        var frontPoker = mainJS.PokerInstanceBackground.node.children[mainJS.PokerInstanceBackground.node.childrenCount - 1];
        cc.log(frontPoker);
        mainJS.fanzhuan(frontPoker);
      }
    }
  },
  stashAnimation: function stashAnimation(staBut) {
    if (condition) {}
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9TY3JpcHQvR2FtZVNjZW5lU2NyaXB0LmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwibGVmdFNlY29uZHMiLCJ0eXBlIiwiaW50ZWdlciIsImJhY2tncm91bmRTb25nIiwiQXVkaW9DbGlwIiwiUGF1c2VCdXR0b24iLCJCdXR0b24iLCJIZWxwQnV0dG9uIiwiQXVkaW9CdXR0b24iLCJSZUJhY2tCdXR0b24iLCJUaW1lQ291bnRMYWJlbCIsIlJvdW5kTGFiZWwiLCJTY29yZUxhYmVsIiwiUG9rZXJDb250YWluZXIiLCJQcmVmYWIiLCJteVBva2VyIiwiUG9rZXJJbnN0YW5jZUJhY2tncm91bmQiLCJTcHJpdGUiLCJQb2tlclN0YXNoVmlldyIsIkN1cnJlbnRQb2tlciIsIm9uTG9hZCIsImF1ZGlvRW5naW5lIiwicGxheU11c2ljIiwic2l6ZSIsInZpZXciLCJnZXRGcmFtZVNpemUiLCJsb2ciLCJ3aWR0aCIsImhlaWdodCIsIndpbmRvd1NpemUiLCJnZXRWaXNpYmxlU2l6ZSIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJwYXVzZVNpemUiLCJub2RlIiwiZ2V0Qm91bmRpbmdCb3giLCJzZXRBbmNob3JQb2ludCIsInNldFBvc2l0aW9uIiwibGFiZWxOb2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJsYWJlbCIsImdldENvbXBvbmVudCIsIkxhYmVsIiwic3RyaW5nIiwiYmciLCJmaXJzdFIiLCJpIiwicHJlIiwiaW5zdGFudGlhdGUiLCJfbmFtZSIsImFkZENoaWxkIiwiYXJyYXkiLCJwb2tlclJhbmRvbSIsIlBva2VyTnVtYmVyIiwiYWN0aXZlIiwiaW5kZXgiLCJjaGlsZHJlbkNvdW50Iiwic3RhcnQiLCJUb29scyIsImZpbmQiLCJmYXBhaSIsIl90aGlzIiwiZGlyZWN0b3IiLCJnZXRTY2hlZHVsZXIiLCJzY2hlZHVsZSIsInRpbWVTdHJpbmciLCJGb3JtYXRNTVNTIiwic2VxIiwibGFzdFBvY2tlciIsImN1cnJlbnRQb2tlciIsImZhbnpodWFuIiwiZW5kX2Z1bmMiLCJjYWxsRnVuYyIsInRhcmdldCIsImJhc2VfY291bnQiLCJwYXJzZUludCIsInNwbGl0IiwiY3VyUG9zMSIsImNvbnZlcnRUb1dvcmxkU3BhY2VBUiIsInYyIiwiY3VyUG9zMiIsImNvbnZlcnRUb05vZGVTcGFjZUFSIiwiUHJldmlvdXNQYXJlbnQiLCJwYXJlbnQiLCJDdXJyZW50UG9zaXRpb24iLCJiaW5kIiwibXRvIiwibW92ZVRvIiwiZDEiLCJkZWxheVRpbWUiLCJzZXF1ZSIsInNlcXVlbmNlIiwicnVuQWN0aW9uIiwicG9rZXJub2RlIiwicG9zMSIsInBvczIiLCJtb3ZlQnkiLCJ4IiwieSIsImZhbjEiLCJzY2FsZVRvIiwiY2hhbmdlRnJvbnQiLCJzcGF3biIsImQyIiwiZmFuMiIsImFuaW1hdGlvbkZpbmlzaGVkIiwiZ2V0UG9zaXRpb24iLCJQcmV2aW91c1Bvc2l0aW9uIiwic2VxdSIsIkFycmF5IiwibnVtIiwicmFuZG9tTnVtIiwiaW5kZXhPZiIsInB1c2giLCJsZW5ndGgiLCJtaW5OdW0iLCJtYXhOdW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJTdGFzaENsaWNrIiwic3RhQnV0IiwibWFpbkpTIiwicG9rZXJOb2RlIiwiQmFja2dyb3VuZFZpZXciLCJjdXJyZW50VGFyZ2V0IiwicG9rZXIiLCJjaGlsZHJlbiIsInBvczMiLCJ0b3RhdGlvbiIsInJvdGF0ZVRvIiwiY3VyUG9zMyIsImludGVyYWN0YWJsZSIsImZyb250UG9rZXIiLCJzdGFzaEFuaW1hdGlvbiIsImNvbmRpdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBRVJDLElBQUFBLFdBQVcsRUFBRTtBQUNUQyxNQUFBQSxJQUFJLEVBQUNMLEVB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Yy5DbGFzczpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2NsYXNzLmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5jYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxuXG4gICAgcHJvcGVydGllczoge1xuXG4gICAgICAgIGxlZnRTZWNvbmRzOiB7XG4gICAgICAgICAgICB0eXBlOmNjLmludGVnZXIsXG4gICAgICAgICAgICBkZWZhdWx0OjkwXG4gICAgICAgIH0sXG5cbiAgICAgICAgYmFja2dyb3VuZFNvbmc6IHtcbiAgICAgICAgICAgIHR5cGU6Y2MuQXVkaW9DbGlwLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIFBhdXNlQnV0dG9uOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBIZWxwQnV0dG9uOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBBdWRpb0J1dHRvbjoge1xuICAgICAgICAgICAgdHlwZTpjYy5CdXR0b24sXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgUmVCYWNrQnV0dG9uOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIFRpbWVDb3VudExhYmVsOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBSb3VuZExhYmVsOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBTY29yZUxhYmVsOiB7XG4gICAgICAgICAgICB0eXBlOmNjLkJ1dHRvbixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIFBva2VyQ29udGFpbmVyOiB7XG4gICAgICAgICAgICB0eXBlOmNjLlByZWZhYixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuXG4gICAgICAgIG15UG9rZXI6IHtcbiAgICAgICAgICAgIHR5cGU6Y2MuUHJlZmFiLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgUG9rZXJJbnN0YW5jZUJhY2tncm91bmQ6IHtcbiAgICAgICAgICAgIHR5cGU6Y2MuU3ByaXRlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgUG9rZXJTdGFzaFZpZXc6IHtcbiAgICAgICAgICAgIHR5cGU6Y2MuQnV0dG9uLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG5cbiAgICAgICAgQ3VycmVudFBva2VyOiB7XG4gICAgICAgICAgICB0eXBlOmNjLlNwcml0ZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wbGF5TXVzaWModGhpcy5iYWNrZ3JvdW5kU29uZyx0cnVlKVxuICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0RnJhbWVTaXplKCk7XG4gICAgICAgIGNjLmxvZyhzaXplLndpZHRoLHNpemUuaGVpZ2h0KVxuICAgICAgICBsZXQgd2luZG93U2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcbiAgICAgICAgY2MubG9nKHdpbmRvd1NpemUud2lkdGgsd2luZG93U2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIHZhciBoYWxmV2lkdGggPSB3aW5kb3dTaXplLndpZHRoIC8gMjtcbiAgICAgICAgdmFyIGhhbGZIZWlnaHQgPSB3aW5kb3dTaXplLmhlaWdodCAvIDI7XG4gICAgICAgIFxuICAgICAgICB2YXIgcGF1c2VTaXplID0gdGhpcy5QYXVzZUJ1dHRvbi5ub2RlLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICAgIHRoaXMuUGF1c2VCdXR0b24ubm9kZS5zZXRBbmNob3JQb2ludCgwLDApO1xuICAgICAgICB0aGlzLlBhdXNlQnV0dG9uLm5vZGUuc2V0UG9zaXRpb24oLWhhbGZXaWR0aCArIDQwLC1oYWxmSGVpZ2h0ICsgMzApXG5cbiAgICAgICAgdGhpcy5IZWxwQnV0dG9uLm5vZGUuc2V0QW5jaG9yUG9pbnQoMCwwKTtcbiAgICAgICAgdGhpcy5IZWxwQnV0dG9uLm5vZGUuc2V0UG9zaXRpb24oLTg3IC0gNDAsLWhhbGZIZWlnaHQgKyAxMSArIDMwKVxuXG4gICAgICAgIHRoaXMuQXVkaW9CdXR0b24ubm9kZS5zZXRBbmNob3JQb2ludCgwLDApO1xuICAgICAgICB0aGlzLkF1ZGlvQnV0dG9uLm5vZGUuc2V0UG9zaXRpb24oNDAsLWhhbGZIZWlnaHQgKyAxMSArIDMwKVxuXG4gICAgICAgIHRoaXMuUmVCYWNrQnV0dG9uLm5vZGUuc2V0QW5jaG9yUG9pbnQoMCwwKTtcbiAgICAgICAgdGhpcy5SZUJhY2tCdXR0b24ubm9kZS5zZXRQb3NpdGlvbihoYWxmV2lkdGggLSA0MCAtIDExMCwtaGFsZkhlaWdodCArIDMwKVxuXG4gICAgICAgIHRoaXMuVGltZUNvdW50TGFiZWwubm9kZS5zZXRBbmNob3JQb2ludCgxLDApO1xuICAgICAgICB0aGlzLlRpbWVDb3VudExhYmVsLm5vZGUuc2V0UG9zaXRpb24oMC0xMDcsaGFsZkhlaWdodCAtIDkwIC0gNTApXG4gICAgICAgIHZhciBsYWJlbE5vZGUgPSB0aGlzLlRpbWVDb3VudExhYmVsLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIik7XG4gICAgICAgIHZhciBsYWJlbCA9IGxhYmVsTm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xuICAgICAgICBsYWJlbC5zdHJpbmcgPSB0aGlzLmxlZnRTZWNvbmRzO1xuXG4gICAgICAgIHRoaXMuUm91bmRMYWJlbC5ub2RlLnNldEFuY2hvclBvaW50KDAuNSwwKTtcbiAgICAgICAgdGhpcy5Sb3VuZExhYmVsLm5vZGUuc2V0UG9zaXRpb24oMCxoYWxmSGVpZ2h0IC0gOTAgLSA1MClcbiAgICAgICAgdmFyIGJnID0gdGhpcy5Sb3VuZExhYmVsLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpO1xuICAgICAgICB2YXIgZmlyc3RSID0gYmcuZ2V0Q2hpbGRCeU5hbWUoXCJGaXJzdFJvdW5kXCIpO1xuICAgICAgICAvLyBmaXJzdFIubm9kZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgLy8gYmcuZ2V0Q2hpbGRCeU5hbWUoXCJGaXJzdFJvdW5kXCIpLm5vZGUuaGkgPSBmYWxzZTtcbiAgICAgICAgLy8gY2MubG9nKGJnLmdldENoaWxkQnlOYW1lKFwiRmlyc3RSb3VuZFwiKSk7XG4gICAgICAgIC8vIHRoaXMuUm91bmRMYWJlbC5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKS5ub2RlLmdldENoaWxkQnlOYW1lKFwiRmlyc3RSb3VuZFwiKS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5Sb3VuZExhYmVsLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJGaXJzdFJvdW5kXCIpLm5vZGUuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5TY29yZUxhYmVsLm5vZGUuc2V0QW5jaG9yUG9pbnQoMCwwKTtcbiAgICAgICAgdGhpcy5TY29yZUxhYmVsLm5vZGUuc2V0UG9zaXRpb24oMTA3LGhhbGZIZWlnaHQgLSA5MCAtIDUwKVxuXG4gICAgICAgIHRoaXMuUG9rZXJJbnN0YW5jZUJhY2tncm91bmQubm9kZS5zZXRBbmNob3JQb2ludCgwLjUsMC41KTtcbiAgICAgICAgLy8gY2MubG9nKHRoaXMuUG9rZXJJbnN0YW5jZUJhY2tncm91bmQubm9kZS5nZXRDb250ZW50U2l6ZSgpLndpZHRoLHRoaXMuUG9rZXJJbnN0YW5jZUJhY2tncm91bmQubm9kZS5nZXRDb250ZW50U2l6ZSgpLmhlaWdodCk7XG4gICAgICAgIC8vIGNjLmxvZyh0aGlzLlBva2VySW5zdGFuY2VCYWNrZ3JvdW5kLm5vZGUuZ2V0Qm91bmRpbmdCb3goKS5zaXplLndpZHRoLHRoaXMuUG9rZXJJbnN0YW5jZUJhY2tncm91bmQubm9kZS5nZXRCb3VuZGluZ0JveCgpLnNpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5Qb2tlckluc3RhbmNlQmFja2dyb3VuZC5ub2RlLnNldFBvc2l0aW9uKC1oYWxmV2lkdGggKyAxMzAgKyAyMCwtaGFsZkhlaWdodCArIDkzICsgMTYwKTtcblxuICAgICAgICBcbiAgICAgICAgdGhpcy5DdXJyZW50UG9rZXIubm9kZS5zZXRBbmNob3JQb2ludCgwLDAuNSk7XG4gICAgICAgIHRoaXMuQ3VycmVudFBva2VyLm5vZGUuc2V0UG9zaXRpb24oMCwtaGFsZkhlaWdodCArIDk1ICsgMTYwKTtcblxuICAgICAgICB0aGlzLlBva2VyU3Rhc2hWaWV3Lm5vZGUuc2V0QW5jaG9yUG9pbnQoMSwxKTtcbiAgICAgICAgdGhpcy5Qb2tlclN0YXNoVmlldy5ub2RlLnNldFBvc2l0aW9uKGhhbGZXaWR0aCAtIDEwLC1oYWxmSGVpZ2h0ICsgMTkwICsgMTYwKTtcblxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJlID0gY2MuaW5zdGFudGlhdGUodGhpcy5Qb2tlckNvbnRhaW5lcik7XG4gICAgICAgICAgICBwcmUuX25hbWU9XCJDSkhcIlxuICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHByZSk7XG4gICAgICAgICAgICBwcmUuc2V0QW5jaG9yUG9pbnQoMC41LDAuNSk7XG4gICAgICAgICAgICBwcmUuc2V0UG9zaXRpb24oLWhhbGZXaWR0aCArIDc4ICsgNjAgKyAxNTcqaSwwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLnBva2VyUmFuZG9tKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTI7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubXlQb2tlcik7XG4gICAgICAgICAgICBwcmUuUG9rZXJOdW1iZXIgPSBhcnJheVtpXTtcbiAgICAgICAgICAgIC8vIGNjLmxvZyhcIlBva2VySW5pdFwiK3ByZS5Qb2tlck51bWJlcik7XG4gICAgICAgICAgICAvLyBjYy5sb2coXCJkaWFuc2h1XCIrcHJlLlBva2VyTnVtYmVyKTtcbiAgICAgICAgICAgIHByZS5fbmFtZT1cIlBva2VyX1wiK2k7XG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQocHJlKTtcbiAgICAgICAgICAgIHByZS5nZXRDaGlsZEJ5TmFtZShcIkZyb250Vmlld1wiKS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHByZS5zZXRBbmNob3JQb2ludCgwLjUsMC41KTtcbiAgICAgICAgICAgIHByZS5zZXRQb3NpdGlvbigwLDAgLSAyMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubm9kZS5jaGlsZHJlbkNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNjLmxvZyh0aGlzLm5vZGUuY2hpbGRyZW5baW5kZXhdKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgXG4gICAgfSxcblxuICAgIHN0YXJ0ICgpIHtcblxuICAgICAgICB2YXIgVG9vbHMgPSBjYy5maW5kKCdDYW52YXMnKS5nZXRDb21wb25lbnQoJ1Rvb2xzU2NyaXB0Jyk7XG4gICAgICAgIHZhciBiZyA9IHRoaXMuUm91bmRMYWJlbC5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKTtcbiAgICAgICAgYmcuZ2V0Q2hpbGRCeU5hbWUoXCJGaXJzdFJvdW5kXCIpLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBiZy5nZXRDaGlsZEJ5TmFtZShcIlNlY29uZFJvdW5kXCIpLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBiZy5nZXRDaGlsZEJ5TmFtZShcIlRoaXJkUm91bmRcIikuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFwYWkoMCk7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBsYWJlbE5vZGUgPSB0aGlzLlRpbWVDb3VudExhYmVsLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBsYWJlbE5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgICAgIHZhciB0aW1lU3RyaW5nID0gVG9vbHMuRm9ybWF0TU1TUyhfdGhpcy5sZWZ0U2Vjb25kcyk7XG4gICAgICAgICAgICBjYy5sb2codGltZVN0cmluZyk7XG4gICAgICAgICAgICBsYWJlbC5zdHJpbmcgPSB0aW1lU3RyaW5nO1xuICAgICAgICAgICAgX3RoaXMubGVmdFNlY29uZHMgLS07XG4gICAgICAgICAgICAvLyBjYy5sb2coX3RoaXMubGVmdFNlY29uZHMpXG4gICAgICAgIH0sdGhpcywxLDEwMCwxLGZhbHNlKTtcbiAgICB9LFxuLy8g5Y+R54mM5Ye95pWwXG4gICAgZmFwYWk6ZnVuY3Rpb24oc2VxKSB7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbGV0IHNpemUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCk7XG4gICAgICAgIGxldCBsYXN0UG9ja2VyID0gX3RoaXMuUG9rZXJJbnN0YW5jZUJhY2tncm91bmQubm9kZS5nZXRDaGlsZEJ5TmFtZShcIlBva2VyX1wiKyhzZXEgLSAxKSk7XG4gICAgICAgIGxldCBjdXJyZW50UG9rZXIgPSBfdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiUG9rZXJfXCIrc2VxKTtcbiAgICAgICAgaWYgKGN1cnJlbnRQb2tlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY2MubG9nKFwiVGVzdFwiLGxhc3RQb2NrZXIsY3VycmVudFBva2VyKTtcbiAgICAgICAgICAgIF90aGlzLmZhbnpodWFuKGxhc3RQb2NrZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDlm57osINcbiAgICAgICAgdmFyIGVuZF9mdW5jID0gY2MuY2FsbEZ1bmMoZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgYmFzZV9jb3VudCA9IHBhcnNlSW50KHRhcmdldC5fbmFtZS5zcGxpdChcIl9cIilbMV0pICsgMTtcblxuICAgICAgICAgICAgdmFyIGN1clBvczEgPSB0YXJnZXQuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsMCkpO1xuICAgICAgICAgICAgdmFyIGN1clBvczIgPSBfdGhpcy5Qb2tlckluc3RhbmNlQmFja2dyb3VuZC5ub2RlLmNvbnZlcnRUb05vZGVTcGFjZUFSKGN1clBvczEpO1xuICAgICAgICAgICAgLy8gY2MubG9nKHRhcmdldCk7XG4gICAgICAgICAgICB0YXJnZXQuc2V0UG9zaXRpb24oY3VyUG9zMik7XG4gICAgICAgICAgICB0YXJnZXQuUHJldmlvdXNQYXJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgICAgICAgICAgdGFyZ2V0LnBhcmVudCA9IF90aGlzLlBva2VySW5zdGFuY2VCYWNrZ3JvdW5kLm5vZGU7XG4gICAgICAgICAgICB0YXJnZXQuQ3VycmVudFBvc2l0aW9uID0gY3VyUG9zMTtcbiAgICAgICAgICAgIF90aGlzLmZhcGFpKGJhc2VfY291bnQpO1xuXG4gICAgICAgIH0uYmluZChjdXJyZW50UG9rZXIpKVxuXG4gICAgICAgIHZhciBtdG8gPSBjYy5tb3ZlVG8oMC4wNSwgY2MudjIoKC1zaXplLndpZHRoIC8gMikrIDIwICsgNzIrMi4yKnNlcSwoLXNpemUuaGVpZ2h0IC8gMikgKyA5NSArIDE2MCkpO1xuICAgICAgICB2YXIgZDEgPSBjYy5kZWxheVRpbWUoMC4wMSk7XG4gICAgICAgIHZhciBzZXF1ZSA9IGNjLnNlcXVlbmNlKFtkMSwgbXRvLCBlbmRfZnVuY10pO1xuICAgICAgICBjdXJyZW50UG9rZXIucnVuQWN0aW9uKHNlcXVlKTtcbiAgICAgICAgXG4gICAgfSxcblxuICAgIGZhbnpodWFuOmZ1bmN0aW9uKHBva2Vybm9kZSkge1xuICAgICAgICBsZXQgc2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8g5YWI5Y+N6L2sOTDlj5jmraPpnaLmlbDmja7vvIzlho3lj43ovawtOTDlm57mnaXvvIznu5PmnZ/vvIzmlbTkuKrov4fnqIvnp7vliqjniYzpnaLliLDmjIflrprkvY3nva5cbiAgICAgICAgdmFyIGQxID0gY2MuZGVsYXlUaW1lKDAuMDEpO1xuICAgICAgICAvLyB2YXIgbXRvID0gY2MubW92ZVRvKDAuMywgY2MudjIoMCArIDY5LCgtc2l6ZS5oZWlnaHQgLyAyKSArIDk1ICsgMTYwKSk7XG5cbiAgICAgICAgdmFyIHBvczEgPSBwb2tlcm5vZGUuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLnYyKDAsMCkpO1xuICAgICAgICB2YXIgcG9zMiA9IF90aGlzLkN1cnJlbnRQb2tlci5ub2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgdmFyIG10byA9IGNjLm1vdmVCeSgwLjE1LCBjYy52Mihwb3MyLnggLSBwb3MxLnggKyA2Nixwb3MyLnkgLSBwb3MxLnkpKTtcbiAgICAgICAgdmFyIGZhbjEgPSBjYy5zY2FsZVRvKDAuMTUsIDAuMiwgMSk7XG4gICAgICAgIHZhciBjaGFuZ2VGcm9udCA9IGNjLmNhbGxGdW5jKGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0LmdldENoaWxkQnlOYW1lKFwiRnJvbnRWaWV3XCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0YXJnZXQuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBzcGF3biA9IGNjLnNwYXduKFttdG8sZmFuMV0pO1xuICAgICAgICBwb2tlcm5vZGUucnVuQWN0aW9uKHNwYXduKTtcbiAgICAgICAgdmFyIGQyID0gY2MuZGVsYXlUaW1lKDAuMTUpO1xuICAgICAgICB2YXIgZmFuMiA9IGNjLnNjYWxlVG8oMC4xLCAxLCAxKTtcbiAgICAgICAgdmFyIGFuaW1hdGlvbkZpbmlzaGVkID0gY2MuY2FsbEZ1bmMoZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuQ3VycmVudFBvc2l0aW9uID0gdGFyZ2V0LmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjdXJQb3MxID0gdGFyZ2V0LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgIHZhciBjdXJQb3MyID0gX3RoaXMuQ3VycmVudFBva2VyLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIoY3VyUG9zMSk7XG4gICAgICAgICAgICAvLyBjYy5sb2codGFyZ2V0KTtcbiAgICAgICAgICAgIHRhcmdldC5zZXRQb3NpdGlvbihjdXJQb3MyKTtcbiAgICAgICAgICAgIHRhcmdldC5QcmV2aW91c1BhcmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgICAgICAgICB0YXJnZXQucGFyZW50ID0gX3RoaXMuQ3VycmVudFBva2VyLm5vZGU7XG4gICAgICAgICAgICAvLyBjYy5sb2codGFyZ2V0LkN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgICAgICB0YXJnZXQuUHJldmlvdXNQb3NpdGlvbiA9IHRhcmdldC5DdXJyZW50UG9zaXRpb247XG4gICAgICAgICAgICB0YXJnZXQuQ3VycmVudFBvc2l0aW9uID0gY3VyUG9zMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZXF1ID0gY2Muc2VxdWVuY2UoW2QyLGNoYW5nZUZyb250LGZhbjIsYW5pbWF0aW9uRmluaXNoZWRdKTtcbiAgICAgICAgcG9rZXJub2RlLnJ1bkFjdGlvbihzZXF1KTtcblxuICAgICAgICAvLyB2YXIgZDMgPSBjYy5kZWxheVRpbWUoMS4zKTtcbiAgICAgICAgLy8gdmFyIGRlc3Ryb3lQb2tlck5vZGUgPSBjYy5jYWxsRnVuYyhmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgLy8gICAgIHRhcmdldC5yZW1vdmVGcm9tUGFyZW50KHRydWUpO1xuICAgICAgICAvLyAgICAgdGFyZ2V0LmRlc3Ryb3koKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vIHZhciBzZXF1MiA9IGNjLnNlcXVlbmNlKFtkMyxkZXN0cm95UG9rZXJOb2RlXSk7XG4gICAgICAgIC8vIHBva2Vybm9kZS5ydW5BY3Rpb24oc2VxdTIpO1xuICAgIH0sXG5cblxuICAgIHBva2VyUmFuZG9tOmZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMucmFuZG9tTnVtKDEsNTMpO1xuICAgICAgICAgICAgaWYgKGFycmF5LmluZGV4T2YobnVtKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKG51bSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YobnVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYXJyYXkubGVuZ3RoIDwgNTIpO1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcbiAgICAvL+eUn+aIkOS7jm1pbk51beWIsG1heE51beeahOmaj+acuuaVsFxuICAgIHJhbmRvbU51bTpmdW5jdGlvbihtaW5OdW0sIG1heE51bSkge1xuICAgICAgICB2YXIgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihtaW5OdW0gLSBtYXhOdW0pICsgbWF4TnVtKTtcbiAgICAgICAgcmV0dXJuIG51bTtcbiAgICB9LFxuXG4gICAgU3Rhc2hDbGljazpmdW5jdGlvbiAoc3RhQnV0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBtYWluSlMgPSBjYy5maW5kKCdDYW52YXMnKS5nZXRDb21wb25lbnQoJ0dhbWVTY2VuZVNjcmlwdCcpO1xuICAgICAgICB2YXIgcG9rZXJOb2RlID0gbWFpbkpTLkN1cnJlbnRQb2tlci5ub2RlO1xuICAgICAgICB2YXIgQmFja2dyb3VuZFZpZXcgPSBzdGFCdXQuY3VycmVudFRhcmdldC5nZXRDaGlsZEJ5TmFtZSgnQmFja2dyb3VuZCcpO1xuICAgICAgICBpZiAoQmFja2dyb3VuZFZpZXcuY2hpbGRyZW5Db3VudCA+IDApIHtcblxuXG5cbiAgICAgICAgICAgIGlmIChwb2tlck5vZGUuY2hpbGRyZW5Db3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjYy5sb2coXCLkuK3pl7ToioLngrnooqvljaDkuoYs6ZyA6KaB5YWI5omn6KGM5Lit6Ze05Y2h54mM5Yqo55S7XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvLyDmiafooYzlm57ovazliqjnlLtcbiAgICAgICAgICAgIHZhciBwb2tlciA9IEJhY2tncm91bmRWaWV3LmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8g5YWI5YiH5o2i5oyC6L2955qE6IqC54K5XG4gICAgICAgICAgICAvLyB2YXIgY3VyUG9zMSA9IHBva2VyLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgIC8vIHZhciBjdXJQb3MzID0gcG9rZXJOb2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgIC8vIHBva2VyLnNldFBvc2l0aW9uKGNjLnYyKGN1clBvczEueCAtIGN1clBvczMueCxjdXJQb3MxLnkgLSBjdXJQb3MzLnkpKTtcbiAgICAgICAgICAgIC8vIHBva2VyLnBhcmVudCA9IHBva2VyTm9kZTtcblxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB2YXIgcG9zMSA9IHBva2VyLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgIC8vIHZhciBwb3MyID0gcG9rZXJOb2RlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgIC8vIHZhciBtdG8gPSBjYy5tb3ZlQnkoMC4zLCBjYy52Mihwb3MyLnggLSBwb3MxLnggKyA2NSxwb3MyLnkgLSBwb3MxLnkpKTtcbiAgICAgICAgICAgIC8vIHZhciB0b3RhdGlvbiA9IGNjLnJvdGF0ZVRvKDAuMywwKTtcbiAgICAgICAgICAgIC8vIHZhciBzcGF3biA9IGNjLnNwYXduKFttdG8sdG90YXRpb25dKTtcbiAgICAgICAgICAgIC8vIHBva2VyLnJ1bkFjdGlvbihzcGF3bik7XG5cblxuICAgICAgICAgICAgdmFyIHBvczEgPSBwb2tlci5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwwKSk7XG4gICAgICAgICAgICB2YXIgcG9zMyA9IHBva2VyTm9kZS5jb252ZXJ0VG9Xb3JsZFNwYWNlQVIoY2MudjIoMCwwKSk7XG4gICAgICAgICAgICB2YXIgcG9zMiA9IHBva2VyTm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihwb3MxKTtcbiAgICAgICAgICAgIHBva2VyLnNldFBvc2l0aW9uKHBvczIpO1xuICAgICAgICAgICAgdmFyIG10byA9IGNjLm1vdmVCeSgwLjE1LCBjYy52Mihwb3MzLnggLSBwb3MxLnggKyA2NSxwb3MzLnkgLSBwb3MxLnkpKTtcbiAgICAgICAgICAgIHZhciB0b3RhdGlvbiA9IGNjLnJvdGF0ZVRvKDAuMTUsMCk7XG4gICAgICAgICAgICB2YXIgc3Bhd24gPSBjYy5zcGF3bihbbXRvLHRvdGF0aW9uXSk7XG4gICAgICAgICAgICBwb2tlci5ydW5BY3Rpb24oc3Bhd24pO1xuICAgICAgICAgICAgcG9rZXIuUHJldmlvdXNQYXJlbnQgPSBwb2tlci5wYXJlbnQ7XG4gICAgICAgICAgICBwb2tlci5wYXJlbnQgPSBwb2tlck5vZGU7XG4gICAgICAgICAgICBwb2tlci5DdXJyZW50UG9zaXRpb24gPSBwb2tlci5QcmV2aW91c1Bvc2l0aW9uO1xuICAgICAgICAgICAgcG9rZXIuUHJldmlvdXNQb3NpdGlvbiA9IGNjLnYyKDAsMCk7XG4gICAgICAgICAgICAvLyDmiafooYzniYzlsYDlm57pgIBcblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuQ3VycmVudFBva2VyLm5vZGUuY2hpbGRyZW5Db3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjYy5sb2coXCLmiJHmnInlranlrZDoioLngrlcIik7XG4gICAgICAgICAgICAgICAgLy8g5omn6KGM5peL6L2s5Yqo55S7XG4gICAgICAgICAgICAgICAgdmFyIHBva2VyID0gX3RoaXMuQ3VycmVudFBva2VyLm5vZGUuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgICAgICAgICAvLyDlhYjliIfmjaLmjILovb3nmoToioLngrlcbiAgICAgICAgICAgICAgICB2YXIgY3VyUG9zMSA9IHBva2VyLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgICAgICB2YXIgY3VyUG9zMyA9IEJhY2tncm91bmRWaWV3LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgICAgICBwb2tlci5zZXRQb3NpdGlvbihjYy52MihjdXJQb3MxLnggLSBjdXJQb3MzLngsY3VyUG9zMS55IC0gY3VyUG9zMy55KSk7XG4gICAgICAgICAgICAgICAgcG9rZXIuUHJldmlvdXNQYXJlbnQgPSBwb2tlci5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgcG9rZXIucGFyZW50ID0gQmFja2dyb3VuZFZpZXc7XG5cbiAgICAgICAgICAgICAgICB2YXIgcG9zMSA9IHBva2VyLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zMiA9IEJhY2tncm91bmRWaWV3LmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgICAgICB2YXIgbXRvID0gY2MubW92ZUJ5KDAuMTUsIGNjLnYyKHBvczIueCAtIHBvczEueCxwb3MyLnkgLSBwb3MxLnkpKTtcbiAgICAgICAgICAgICAgICB2YXIgdG90YXRpb24gPSBjYy5yb3RhdGVUbygwLjE1LDE3KTtcbiAgICAgICAgICAgICAgICB2YXIgc3Bhd24gPSBjYy5zcGF3bihbbXRvLHRvdGF0aW9uXSk7XG4gICAgICAgICAgICAgICAgcG9rZXIucnVuQWN0aW9uKHNwYXduKTtcbiAgICAgICAgICAgICAgICBwb2tlci5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5pbnRlcmFjdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwb2tlci5pbnRlcmFjdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zMyA9IHBva2VyLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy52MigwLDApKTtcbiAgICAgICAgICAgICAgICBwb2tlci5QcmV2aW91c1Bvc2l0aW9uID0gcG9rZXIuQ3VycmVudFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHBva2VyLkN1cnJlbnRQb3NpdGlvbiA9IHBvczM7XG4gICAgICAgICAgICAgICAgLy8g5omn6KGM54mM5bGA6Lef6L+bXG4gICAgICAgICAgICAgICAgdmFyIG1haW5KUyA9IGNjLmZpbmQoJ0NhbnZhcycpLmdldENvbXBvbmVudCgnR2FtZVNjZW5lU2NyaXB0Jyk7XG4gICAgICAgICAgICAgICAgY2MubG9nKG1haW5KUy5Qb2tlckluc3RhbmNlQmFja2dyb3VuZC5ub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbnRQb2tlciA9IG1haW5KUy5Qb2tlckluc3RhbmNlQmFja2dyb3VuZC5ub2RlLmNoaWxkcmVuW21haW5KUy5Qb2tlckluc3RhbmNlQmFja2dyb3VuZC5ub2RlLmNoaWxkcmVuQ291bnQgLSAxXTtcbiAgICAgICAgICAgICAgICBjYy5sb2coZnJvbnRQb2tlcik7XG4gICAgICAgICAgICAgICAgbWFpbkpTLmZhbnpodWFuKGZyb250UG9rZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXNoQW5pbWF0aW9uOmZ1bmN0aW9uIChzdGFCdXQpIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcbn0pO1xuIl19