{"version":3,"sources":["assets/Script/ContainerPrefabScript.js"],"names":["cc","Class","Component","properties","ScoreRect","type","Sprite","ScoreLabel","Label","UpTip","CurrentScore","integer","onLoad","string","start","onClick","target","_this","mainJS","find","getComponent","pokerNode","CurrentPoker","node","loader","loadRes","AudioClip","err","clip","audioEngine","play","i","log","parent","container","getChildByName","active","ArrowTips","poker","childrenCount","Tools","children","sum","parseInt","PokerRealNumber","feipai","currentTarget","PokerNumber","ScaleAnimation","toString","anmationNode","Node","width","height","addChild","wrongPoker","addComponent","scoreNode","getscore","Font","font","fontSize","color","sizeMode","SizeMode","SIMPLE","spriteFrame","PokerTargetTips","getContentSize","d1","delayTime","sto1","scaleTo","mov1","moveBy","v2","fadein","fadeIn","spawn","runAction","mov2","d3","animationFinished","callFunc","pos1","convertToWorldSpaceAR","scoreLabel","scoreLabelStrng","pos2","mto","x","y","changeScore","updatenNumberAnim","mySequ","sequence","sequ","scheduleOnce","removeFromParent","destroy","first","second","third","PokerErrorTips","PokerInstanceBackground","frontPoker","fanzhuan","nodeParent","nodeSon","totalScore","curPos1","curPos2","d2","mvto","convertToNodeSpaceAR","setPosition","PreviousParent","PreviousPosition","CurrentPosition","Button","interactable","index","ParabolaAnimation","_node","DetectArrows","preScore","uptip","pos","position","mov","fade","curNum","originNum","difference","absDifference","Math","abs","changeTimes","changeUnit","floor","setTimeout"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        ScoreRect: {\n            type:cc.Sprite,\n            default:null\n        },\n        ScoreLabel: {\n            type:cc.Label,\n            default:null\n        },\n        UpTip: {\n            type:cc.Sprite,\n            default:null\n        },\n        CurrentScore: {\n            type:cc.integer,\n            default:0\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.ScoreLabel.string = '0';\n    },\n\n    start () {\n\n    },\n\n    onClick:function(target) {\n        var _this = this;\n        var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n        var pokerNode = mainJS.CurrentPoker.node;\n        cc.loader.loadRes(\"music/move_to_eff\", cc.AudioClip, function(err, clip) {\n            cc.audioEngine.play(clip, false, 0.5);\n        });\n        // move_to_eff\n        for (let i = 1; i <= 4; i++) {\n            cc.log(\"Pa\"+_this.node.parent);\n            cc.log(\"Pa\"+this.node.parent);\n            var container = _this.node.parent.getChildByName('PokerContainer'+i);\n            cc.log(\"container\"+container);\n            container.getChildByName(\"UpTip\").active = false;\n            mainJS.ArrowTips = 0;\n        }\n        \n        var poker;\n        if (pokerNode.childrenCount > 0) {\n            var Tools = cc.find('Canvas').getComponent('ToolsScript');\n            poker = pokerNode.children[pokerNode.childrenCount - 1];\n            // _this.feipai(target.target,poker);\n            var sum = parseInt(this.ScoreLabel.string) + poker.PokerRealNumber;\n            _this.feipai(target.currentTarget,poker,sum);\n            cc.log(\"RealNumber:\" + poker.PokerRealNumber+\"    PokerNumber:\"+poker.PokerNumber);\n            \n            Tools.ScaleAnimation(_this.ScoreLabel);\n            // Tools.ParabolaAnimation(_this.ScoreLabel);\n            // cc.log(\"最终分\"+sum);\n            _this.ScoreLabel.string = sum.toString();\n            _this.CurrentScore = sum;\n            if (sum === 21) {\n                _this.ScoreLabel.string = \"0\";\n                // var bingo \n                cc.loader.loadRes(\"music/get_target\", cc.AudioClip, function(err, clip) {\n                    cc.audioEngine.play(clip, false, 0.5);\n                });\n                var anmationNode = new cc.Node();\n                anmationNode.width = 55;\n                anmationNode.height = 30;\n                // node.setContentSize(cc.Size(20,20));\n                _this.ScoreLabel.node.addChild(anmationNode);\n                var wrongPoker = anmationNode.addComponent(cc.Sprite);\n                var scoreNode = new cc.Node();\n                _this.ScoreLabel.node.addChild(scoreNode);\n                var getscore = scoreNode.addComponent(cc.Label);\n                cc.loader.loadRes(\"font/score_font\", cc.Font, function(err, font) {\n                    getscore.font = font;\n                });\n                getscore.fontSize = 35;\n                getscore.color = new cc.color(255,0,0,255);\n                getscore.string = \"+200\";\n                // wrongPoker.Size = cc.Size(20,20);\n                // wrongPoker.spriteFrame = ca.spriteFrame;\n                // wrongPoker.type = cc.Sprite.Type.SIMPLE;\n                wrongPoker.sizeMode = cc.Sprite.SizeMode.SIMPLE;\n                // if (_this.TargetTips != null || _this.TargetTips != undefined) {\n                //     wrongPoker.spriteFrame = _this.TargetTips;\n                // } else {\n                //     cc.loader.loadRes('base_ui/21point_tip',cc.SpriteFrame,function(err,pointFrame){ 　\n                //         pointFrame.setRect(cc.Rect(0,0,187,108));\n                //         wrongPoker.spriteFrame = pointFrame;\n                //         _this.TargetTips = pointFrame;\n                //     });\n                // }\n                wrongPoker.spriteFrame = mainJS.PokerTargetTips;\n                cc.log(\"nodeSize\" + anmationNode.getContentSize().width + anmationNode.getContentSize().height);\n\n                var d1 = cc.delayTime(0.01);\n                var sto1 = cc.scaleTo(0.4, 2);\n                var mov1 = cc.moveBy(0.4,cc.v2(0,100));\n                var fadein = cc.fadeIn(0.4);\n                var spawn = cc.spawn([d1, sto1,mov1,fadein]);\n                anmationNode.runAction(spawn);\n                var mov2 = cc.moveBy(0.4,cc.v2(0,40));\n                // var spawn2 = cc.spawn([d1, sto1,mov2]);\n                scoreNode.runAction(mov2);\n\n                var d3 = cc.delayTime(0.4);\n                var animationFinished = cc.callFunc(function(target) {\n                    cc.loader.loadRes(\"font/and_score_font\", cc.Font, function(err, font) {\n                        getscore.fontSize = 25;\n                        getscore.font = font;\n                    });\n\n                    var pos1 = scoreNode.convertToWorldSpaceAR(cc.v2(0,0));\n                    var scoreLabel = cc.find('Canvas/ScoreLabel/Background/Label');\n                    var scoreLabelStrng = scoreLabel.getComponent(cc.Label);\n                    var pos2 = scoreLabel.convertToWorldSpaceAR(cc.v2(0,0));\n                    var mto = cc.moveBy(0.3, cc.v2(pos2.x - pos1.x,pos2.y - pos1.y));\n                    var changeScore = cc.callFunc(function(target) {\n                        scoreNode.active = false;\n                        _this.updatenNumberAnim(parseInt(scoreLabelStrng.string) + 200, parseInt(scoreLabelStrng.string));\n                    });\n                    var mySequ = cc.sequence([mto,changeScore]);\n                    scoreNode.runAction(mySequ);\n                });\n                var sequ = cc.sequence(d3,animationFinished);\n                scoreNode.runAction(sequ);\n\n\n                _this.scheduleOnce(function(target){\n                \n                    anmationNode.active = false;\n                    anmationNode.removeFromParent(true);\n                    anmationNode.destroy();\n                    \n                },0.5);\n\n\n            } else if (sum > 21) {\n                cc.loader.loadRes(\"music/bust_eff\", cc.AudioClip, function(err, clip) {\n                    cc.audioEngine.play(clip, false, 0.5);\n                });\n                _this.ScoreLabel.string = \"0\";\n                var first = cc.find(\"Canvas/RoundLabel/Background/FirstRound\");\n                var second = cc.find(\"Canvas/RoundLabel/Background/SecondRound\");\n                var third = cc.find(\"Canvas/RoundLabel/Background/ThirdRound\");\n                // ca.active = true;\n                if (first.active === false) {\n                    first.active = true;\n                } else if (second.active === false) {\n                    second.active = true;\n                } else if (third.active === false) {\n                    //结束\n                }\n                \n                // cc.log(ca);\n                \n                var anmationNode = new cc.Node();\n                anmationNode.width = 40;\n                anmationNode.height = 40;\n                // node.setContentSize(cc.Size(20,20));\n                _this.ScoreLabel.node.addChild(anmationNode);\n                var wrongPoker = anmationNode.addComponent(cc.Sprite);\n                \n                // wrongPoker.Size = cc.Size(20,20);\n                // wrongPoker.spriteFrame = ca.spriteFrame;\n                // wrongPoker.type = cc.Sprite.Type.SIMPLE;CUSTOM\n                wrongPoker.sizeMode = cc.Sprite.SizeMode.SIMPLE;\n                // if (_this.ErrorTips != null || _this.ErrorTips != undefined) {\n                //     wrongPoker.spriteFrame = _this.ErrorTips;\n                // } else {\n                //     cc.loader.loadRes('base_ui/error_tip',cc.SpriteFrame,function(err,sprFrame){ 　\n                //         cc.log(\" assets/texture/error_tip \"+err);\n                //         sprFrame.setRect(cc.Rect(0,0,95,88));\n                //         wrongPoker.spriteFrame = sprFrame;\n                //         _this.ErrorTips = sprFrame;\n                //         cc.log(wrongPoker);\n                //     });\n                // }\n                wrongPoker.spriteFrame = mainJS.PokerErrorTips;\n                \n                cc.log(\"nodeSize\" + anmationNode.getContentSize().width + anmationNode.getContentSize().height);\n\n                var d1 = cc.delayTime(0.01);\n                var sto1 = cc.scaleTo(0.4, 2);\n                var mov1 = cc.moveBy(0.4,cc.v2(0,100));\n                var fadein = cc.fadeIn(0.4);\n                var spawn = cc.spawn([d1, sto1,mov1,fadein]);\n                anmationNode.runAction(spawn);\n\n                var animationFinished = cc.callFunc(function(target) {\n                    \n                });\n                _this.scheduleOnce(function(target){\n                \n                    anmationNode.active = false;\n                    anmationNode.removeFromParent(true);\n                    anmationNode.destroy();\n                    \n                },0.5);\n\n\n\n            }\n            // 执行牌局跟进\n            cc.log(mainJS.PokerInstanceBackground.node.children);\n            var frontPoker = mainJS.PokerInstanceBackground.node.children[mainJS.PokerInstanceBackground.node.childrenCount - 1];\n            cc.log(frontPoker);\n            mainJS.fanzhuan(frontPoker);\n        }\n        \n        // if (mainJS.CurrentPoker.node) {\n            \n        // }\n        \n        // var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n        //     var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1);\n        //     cc.log(target);\n        //     target.setPosition(curPos2);\n        //     target.parent = _this.PokerInstanceBackground.node;\n        //     target.CurrentPosition = curPos1;\n        \n    },\n    // 动画从子节点飞到父节点身上\n    feipai: function (nodeParent,nodeSon,totalScore) {\n        cc.loader.loadRes(\"music/move_to_eff\", cc.AudioClip, function(err, clip) {\n            cc.audioEngine.play(clip, false, 0.5);\n        });\n        cc.log(nodeParent,nodeSon);\n        var curPos1 = nodeSon.convertToWorldSpaceAR(cc.v2(0,0));\n        var curPos2 = nodeParent.convertToWorldSpaceAR(cc.v2(0,0));\n        var _this = this;\n        var d2 = cc.delayTime(0.01);\n        var mvto = cc.moveBy(0.1, cc.v2(curPos2.x - curPos1.x,curPos2.y - curPos1.y + 175 - (45 * nodeParent.childrenCount)));\n        var animationFinished = cc.callFunc(function(target) {\n            // target.CurrentPosition = target.getPosition();\n            \n            // var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n            // var curPos2 = _this.CurrentPoker.node.convertToNodeSpaceAR(curPos1);\n            // cc.log(target);\n            // target.setPosition(curPos2);\n            // target.parent = _this.CurrentPoker.node;\n            // // cc.log(target.CurrentPosition);\n            // target.PreviousPosition = target.CurrentPosition;\n            // target.CurrentPosition = curPos1;\n            var pos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos2 = nodeParent.convertToNodeSpaceAR(pos1);\n            target.setPosition(pos2);\n            target.PreviousParent = target.parent;\n            target.parent = nodeParent;\n            target.PreviousPosition = target.CurrentPosition;\n            target.CurrentPosition = pos1;\n            cc.log(nodeParent.children);\n            target.getComponent(cc.Button).interactable = false;\n            // target.interactable = false;\n\n            if (totalScore >= 21) {\n                _this.node.getChildByName(\"PokerContainerRect\").interactable = false;\n                cc.log(\">21点处理\",nodeParent.childrenCount);\n                for (let index = nodeParent.childrenCount - 1; index >= 0; index--) {\n                    var node = nodeParent.children[index];\n                    cc.log(\"执行\"+node + \"延时\" + 0.5 * (nodeParent.childrenCount - 1 - index));\n                    var Tools = cc.find('Canvas').getComponent('ToolsScript');\n                    // Tools.ParabolaAnimation(node,0); \n                    Tools.ParabolaAnimation(node); \n                    var _node = node;\n                    _this.scheduleOnce(function(target){\n                        Tools.ParabolaAnimation(_node); \n                    },0.5 * (nodeParent.childrenCount - 1 - index));\n                //     _this.scheduleOnce(function(target){\n                //         var d3 = cc.delayTime(0.5 * (nodeParent.childrenCount - 1 - index));\n\n                //         var animation1 = function () {\n                //             var Tools = cc.find('Canvas').getComponent('ToolsScript');\n                //             Tools.ParabolaAnimation(target);\n                //         };\n                //         var sequ = cc.sequence([d3,animation1]);\n                //          node.runAction(sequ);\n                //    },0);\n                    \n                }\n                _this.scheduleOnce(function(target){\n                    // for (let index = nodeParent.childrenCount - 1; index >= 0; index--) {\n                    //     var node = nodeParent.children[index];\n                    //     node.removeFromParent(false);\n                    // }\n                    _this.node.getChildByName(\"PokerContainerRect\").interactable = true;\n                    cc.log(\"feipai log\"+_this);\n                    cc.log(\"   PokerContainerRect\"+_this.node.getChildByName(\"PokerContainerRect\"));\n                },1.5);\n            }\n        });\n        var sequ = cc.sequence([d2,mvto,animationFinished]);\n        nodeSon.runAction(sequ);\n    },\n\n    DetectArrows:function (preScore) {\n        var _this = this;\n        cc.log(_this.node);\n        if (parseInt(_this.ScoreLabel.string) + preScore <= 21) {\n            \n            var uptip = _this.node.getChildByName(\"UpTip\");\n            var pos = uptip.position;\n            uptip.setPosition(0,pos.y - 50);\n            _this.node.getChildByName(\"UpTip\").active = true;\n            cc.log(\"获取UpTip的位置\"+uptip.position);\n            var mov = cc.moveBy(0.2,cc.v2(0, 50));\n            var fade = cc.fadeIn(0.2);\n            var spawn = cc.spawn([mov,fade]);\n            uptip.runAction(spawn);\n        } else {\n            _this.node.getChildByName(\"UpTip\").active = false;\n        }\n        cc.log(\"YYYY\");\n    },\n    updatenNumberAnim:function(curNum,originNum) {\n        var difference = curNum - originNum;\n        var absDifference = Math.abs(difference);\n        var changeTimes = absDifference < 8 ? absDifference : 8;\n        var changeUnit = absDifference < 8 ? 1 : Math.floor(difference / 8)\n        var scoreLabel = cc.find('Canvas/ScoreLabel/Background/Label');\n        for (let i = 0; i < changeTimes; i++) {\n            (function (i) {\n                setTimeout(() => {\n                    scoreLabel.getComponent(cc.Label).string = (originNum += changeUnit)\n                    if (i == changeTimes - 1) {\n                        scoreLabel.getComponent(cc.Label).string = curNum;\n                    }\n                }, 100*(i+1));\n            })(i)\n        }\n    }\n\n\n    // updatenNumberAnim: function (curNum,originNum) {\n    //     var difference = curNum - originNum;\n    //     var absDifference = Math.abs(difference);\n    //     var changeTimes = absDifference < 8 ? absDifference : 8;\n    //     var changeUnit = absDifference < 8 ? 1 : Math.floor(difference / 8)\n    //     var scoreLabel = cc.find('Canvas/ScoreLabel/Background/Label');\n    //     for (let i = 0; i < changeTimes; i++) {\n    //         (function (i) {\n    //             setTimeout(() => {\n    //                 scoreLabel.getComponent(cc.Label).string = (originNum += changeUnit)\n    //                 if (i == changeTimes - 1) {\n    //                     scoreLabel.getComponent(cc.Label) = curNum;\n    //                 }\n    //             }, 100*(i+1));\n    //         })(i)\n    //     }\n    // }, \n\n    // update (dt) {},\n});\n"]}