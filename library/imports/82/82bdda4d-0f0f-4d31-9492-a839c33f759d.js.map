{"version":3,"sources":["assets/Script/GameSceneScript.js"],"names":["cc","Class","Component","properties","leftSeconds","type","integer","ArrowTips","backgroundSong","AudioClip","PauseButton","Button","HelpButton","AudioButton","ReBackButton","TimeCountLabel","RoundLabel","ScoreLabel","PokerContainer","Prefab","myPoker","PauseAlertView","GameOverAlertView","OutMoveAlertView","PokerInstanceBackground","Sprite","PokerStashView","CurrentPoker","TimerPause","Boolean","LastNode","Node","PokerErrorTips","SpriteFrame","PokerTargetTips","PokerAtlas","SpriteAtlas","ComboCount","onLoad","Tools","find","getComponent","audioEngine","playMusic","size","view","getFrameSize","log","width","height","windowSize","getVisibleSize","halfWidth","halfHeight","pauseSize","node","getBoundingBox","setAnchorPoint","setPosition","labelNode","getChildByName","label","Label","timeString","FormatMMSS","string","bg","firstR","i","pre","instantiate","_name","active","addChild","array","pokerRandom","PokerNumber","index","childrenCount","start","fapai","_this","director","getScheduler","schedule","container","pokerNode","poker","children","DetectArrows","PokerRealNumber","loader","loadRes","err","clip","play","Font","font","TimeOut","color","Color","macro","REPEAT_FOREVER","seq","lastPocker","currentPoker","fanzhuan","end_func","callFunc","target","base_count","parseInt","split","curPos1","convertToWorldSpaceAR","v2","curPos2","convertToNodeSpaceAR","PreviousParent","parent","CurrentPosition","initCountNode","initLabel","toString","bind","mto","moveTo","d1","delayTime","seque","sequence","runAction","pokernode","pos1","pos2","PreviousPosition","moveBy","x","y","fan1","scaleTo","changeFront","spawn","d2","fan2","animationFinished","getPosition","sequ","currentPosition","Array","num","randomNum","indexOf","push","length","minNum","maxNum","Math","floor","random","StashClick","staBut","mainJS","BackgroundView","currentTarget","pos3","totation","rotateTo","interactable","curPos3","frontPoker","stashAnimation","condition","alertNode","mainCanvas","pauseMusic","gameOverAlert","mask","zIndex"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        leftSeconds: {\n            type:cc.integer,\n            default:240\n        },\n\n        ArrowTips: {\n            type:cc.integer,\n            default:3\n        },\n\n        backgroundSong: {\n            type:cc.AudioClip,\n            default:null\n        },\n        PauseButton: {\n            type:cc.Button,\n            default:null\n        },\n        HelpButton: {\n            type:cc.Button,\n            default:null\n        },\n        AudioButton: {\n            type:cc.Button,\n            default:null\n        },\n        ReBackButton: {\n            type:cc.Button,\n            default:null\n        },\n\n        TimeCountLabel: {\n            type:cc.Button,\n            default:null\n        },\n        RoundLabel: {\n            type:cc.Button,\n            default:null\n        },\n        ScoreLabel: {\n            type:cc.Button,\n            default:null\n        },\n\n        PokerContainer: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        myPoker: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        PauseAlertView: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        GameOverAlertView: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        OutMoveAlertView: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        PokerInstanceBackground: {\n            type:cc.Sprite,\n            default:null\n        },\n\n        PokerStashView: {\n            type:cc.Button,\n            default:null\n        },\n\n        CurrentPoker: {\n            type:cc.Sprite,\n            default:null\n        },\n\n        TimerPause: {\n            type:cc.Boolean,\n            default:false\n        },\n\n        LastNode: {\n            type:cc.Node,\n            default:null\n        },\n\n        PokerErrorTips: {\n            type:cc.SpriteFrame,\n            default:null\n        },\n        PokerTargetTips: {\n            type:cc.SpriteFrame,\n            default:null\n        },\n        PokerAtlas: {\n            type:cc.SpriteAtlas,\n            default:null\n        },\n        ComboCount: {\n            type:cc.integer,\n            default:0\n        }\n\n\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        var Tools = cc.find('Canvas').getComponent('ToolsScript');\n\n        cc.audioEngine.playMusic(this.backgroundSong,true)\n        let size = cc.view.getFrameSize();\n        cc.log(size.width,size.height)\n        let windowSize = cc.view.getVisibleSize();\n        cc.log(windowSize.width,windowSize.height);\n\n        var halfWidth = windowSize.width / 2;\n        var halfHeight = windowSize.height / 2;\n        \n        var pauseSize = this.PauseButton.node.getBoundingBox();\n        this.PauseButton.node.setAnchorPoint(0,0);\n        this.PauseButton.node.setPosition(-halfWidth + 40,-halfHeight + 30)\n\n        this.HelpButton.node.setAnchorPoint(0,0);\n        this.HelpButton.node.setPosition(-87 - 40,-halfHeight + 11 + 30)\n\n        this.AudioButton.node.setAnchorPoint(0,0);\n        this.AudioButton.node.setPosition(40,-halfHeight + 11 + 30)\n\n        this.ReBackButton.node.setAnchorPoint(0,0);\n        this.ReBackButton.node.setPosition(halfWidth - 40 - 110,-halfHeight + 30)\n\n        this.TimeCountLabel.node.setAnchorPoint(1,0);\n        this.TimeCountLabel.node.setPosition(0-107,halfHeight - 90 - 50)\n        var labelNode = this.TimeCountLabel.node.getChildByName(\"Background\").getChildByName(\"Label\");\n        var label = labelNode.getComponent(cc.Label);\n        var timeString = Tools.FormatMMSS(this.leftSeconds);\n        label.string = timeString;\n\n        this.RoundLabel.node.setAnchorPoint(0.5,0);\n        this.RoundLabel.node.setPosition(0,halfHeight - 90 - 50)\n        var bg = this.RoundLabel.node.getChildByName(\"Background\");\n        var firstR = bg.getChildByName(\"FirstRound\");\n        // firstR.node.opacity = 0;\n        // bg.getChildByName(\"FirstRound\").node.hi = false;\n        // cc.log(bg.getChildByName(\"FirstRound\"));\n        // this.RoundLabel.node.getChildByName(\"Background\").node.getChildByName(\"FirstRound\").active = false;\n        // this.RoundLabel.node.getChildByName(\"Background\").node.getChildByName(\"FirstRound\").node.active = false;\n\n        this.ScoreLabel.node.setAnchorPoint(0,0);\n        this.ScoreLabel.node.setPosition(107,halfHeight - 90 - 50)\n\n        this.PokerInstanceBackground.node.setAnchorPoint(0.5,0.5);\n        // cc.log(this.PokerInstanceBackground.node.getContentSize().width,this.PokerInstanceBackground.node.getContentSize().height);\n        // cc.log(this.PokerInstanceBackground.node.getBoundingBox().size.width,this.PokerInstanceBackground.node.getBoundingBox().size.height);\n        this.PokerInstanceBackground.node.setPosition(-halfWidth + 130 + 20,-halfHeight + 93 + 160);\n\n        \n        this.CurrentPoker.node.setAnchorPoint(0,0.5);\n        this.CurrentPoker.node.setPosition(0,-halfHeight + 95 + 160);\n\n        this.PokerStashView.node.setAnchorPoint(1,1);\n        this.PokerStashView.node.setPosition(halfWidth - 10,-halfHeight + 190 + 160);\n\n        \n\n        this.ArrowTips = 3;\n        for (var i = 0; i < 4; i++) {\n            let pre = cc.instantiate(this.PokerContainer);\n            pre._name=\"PokerContainer\"+(i + 1);\n            pre.getChildByName(\"UpTip\").active = false;\n            pre.getChildByName(\"Bust\").active = false;\n            this.node.addChild(pre);\n            pre.setAnchorPoint(0.5,0.5);\n            pre.setPosition(-halfWidth + 78 + 60 + 157*i,0);\n        }\n        var array = this.pokerRandom();\n        for (let i = 0; i < 52; i++) {\n            let pre = cc.instantiate(this.myPoker);\n            pre.PokerNumber = array[i];\n            // pre.PokerNumber = 52;\n            // cc.log(\"PokerInit\"+pre.PokerNumber);\n            // cc.log(\"dianshu\"+pre.PokerNumber);\n            pre._name=\"Poker_\"+i;\n            this.node.addChild(pre);\n            pre.getChildByName(\"FrontView\").active = false;\n            pre.setAnchorPoint(0.5,0.5);\n            pre.setPosition(0,0 - 200);\n        }\n\n        for (let index = 0; index < this.node.childrenCount; index++) {\n            \n            // cc.log(this.node.children[index]);\n            \n        }\n\n        \n    },\n\n    start () {\n\n        var Tools = cc.find('Canvas').getComponent('ToolsScript');\n        var bg = this.RoundLabel.node.getChildByName(\"Background\");\n        bg.getChildByName(\"FirstRound\").active = false;\n        bg.getChildByName(\"SecondRound\").active = false;\n        bg.getChildByName(\"ThirdRound\").active = false;\n\n\n        this.fapai(0);\n        \n        \n        var _this = this;\n        cc.director.getScheduler().schedule(function(){\n            if (_this.TimerPause === true) {\n                \n            } else {\n                _this.leftSeconds --;\n                _this.ArrowTips ++;\n            }\n            if (_this.ArrowTips === 2) {\n                for (let i = 1; i <= 4; i++) {\n                    var container = _this.node.getChildByName('PokerContainer'+i);\n                    var pokerNode = _this.CurrentPoker.node;\n                    poker = pokerNode.children[pokerNode.childrenCount - 1];\n                    if(poker != null) {\n                        // container.ScoreLabel.string\n                        container.getComponent(\"ContainerPrefabScript\").DetectArrows(poker.PokerRealNumber);\n                    } else {\n                        container.getComponent(\"ContainerPrefabScript\").DetectArrows(0);\n                    }\n                    cc.log(container);\n                }\n            }\n            var labelNode = this.TimeCountLabel.node.getChildByName(\"Background\").getChildByName(\"Label\");\n            var label = labelNode.getComponent(cc.Label);\n            if (_this.leftSeconds === 30) {\n                cc.loader.loadRes(\"music/time_tip\", cc.AudioClip, function(err, clip) {\n                    cc.audioEngine.play(clip, false, 0.5);\n                });\n                cc.loader.loadRes(\"font/red_time_font\", cc.Font, function(err, font) {\n                    label.font = font;\n                });\n            } else if (_this.leftSeconds === 0) {\n                _this.TimeOut();\n            }\n            var timeString = Tools.FormatMMSS(_this.leftSeconds);\n            cc.log(timeString);\n            label.string = timeString;\n            label.color = new cc.Color(255, 0, 0, 255);\n            // cc.log(_this.TimerPause)\n        },_this,1,cc.macro.REPEAT_FOREVER,1,false);\n    },\n// 发牌函数\n    fapai:function(seq) {\n\n        var _this = this;\n        let size = cc.view.getVisibleSize();\n        let lastPocker = _this.PokerInstanceBackground.node.getChildByName(\"Poker_\"+(seq - 1));\n        let currentPoker = _this.node.getChildByName(\"Poker_\"+seq);\n        if (currentPoker === null) {\n            cc.log(\"Test\",lastPocker,currentPoker);\n            _this.fanzhuan(lastPocker);\n            _this.ArrowTips = 0;\n            return;\n        }\n        cc.loader.loadRes(\"music/init_pai\", cc.AudioClip, function(err, clip) {\n            cc.audioEngine.play(clip, false, 0.3);\n        });\n        // 回调\n        var end_func = cc.callFunc(function(target) {\n            var base_count = parseInt(target._name.split(\"_\")[1]) + 1;\n\n            var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n            var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1);\n            // cc.log(target);\n            target.setPosition(curPos2);\n            target.PreviousParent = target.parent;\n            target.parent = _this.PokerInstanceBackground.node;\n            target.CurrentPosition = curPos1;\n            _this.fapai(base_count);\n            var initCountNode = cc.find('Canvas/PokerInstanceBackground/CountLabel');\n            var initLabel = initCountNode.getComponent(cc.Label);\n            initLabel.string = (parseInt(initLabel.string) + 1).toString();\n\n        }.bind(currentPoker))\n\n        var mto = cc.moveTo(0.05, cc.v2((-size.width / 2)+ 20 + 72+2.2*seq,(-size.height / 2) + 95 + 160));\n        var d1 = cc.delayTime(0.01);\n        var seque = cc.sequence([d1, mto, end_func]);\n        currentPoker.runAction(seque);\n        \n    },\n\n    fanzhuan:function(pokernode) {\n        let size = cc.view.getVisibleSize();\n        var _this = this;\n\n        // 如果当前节点的parent为PokerInstanceBackground，则说明需要往中间移动，如果是在中间则需要往左边移动\n        // _this.PokerInstanceBackground.node\n        if (pokernode.parent === _this.CurrentPoker.node) {\n            var initCountNode = cc.find('Canvas/PokerInstanceBackground/CountLabel');\n            var initLabel = initCountNode.getComponent(cc.Label);\n            initLabel.string = (parseInt(initLabel.string) + 1).toString();\n            var d1 = cc.delayTime(0.01);\n            var pos1 = pokernode.CurrentPosition;\n            var pos2 = pokernode.PreviousPosition;\n            var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x,pos2.y - pos1.y));\n            var fan1 = cc.scaleTo(0.15, 0.2, 1);\n            var changeFront = cc.callFunc(function(target) {\n                target.getChildByName(\"FrontView\").active = false;\n                target.getChildByName(\"Background\").active = true;\n            });\n            var spawn = cc.spawn([mto,fan1]);\n            pokernode.runAction(spawn);\n\n            var d2 = cc.delayTime(0.15);\n            var fan2 = cc.scaleTo(0.1, 1, 1);\n            var animationFinished = cc.callFunc(function(target) {\n                target.CurrentPosition = target.getPosition();\n                \n                var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1);\n                // cc.log(target);\n                target.setPosition(curPos2);\n                target.PreviousParent = target.parent;\n                target.parent = _this.PokerInstanceBackground.node;\n                // cc.log(target.CurrentPosition);\n                target.PreviousPosition = target.CurrentPosition;\n                target.CurrentPosition = curPos1;\n            });\n            var sequ = cc.sequence([d2,changeFront,fan2,animationFinished]);\n            pokernode.runAction(sequ);\n            return;\n        } else {\n            var initCountNode = cc.find('Canvas/PokerInstanceBackground/CountLabel');\n            var initLabel = initCountNode.getComponent(cc.Label);\n            initLabel.string = (parseInt(initLabel.string) - 1).toString();\n            cc.loader.loadRes(\"music/solitaire_deel\", cc.AudioClip, function(err, clip) {\n                cc.audioEngine.play(clip, false, 0.5);\n            });\n            var currentPosition = pokernode.convertToWorldSpaceAR(cc.v2(0,0));\n            // 先反转90变正面数据，再反转-90回来，结束，整个过程移动牌面到指定位置\n            var d1 = cc.delayTime(0.01);\n            // var mto = cc.moveTo(0.3, cc.v2(0 + 69,(-size.height / 2) + 95 + 160));\n            var pos1 = pokernode.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos2 = _this.CurrentPoker.node.convertToWorldSpaceAR(cc.v2(0,0));\n            var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x + 66,pos2.y - pos1.y));\n            var fan1 = cc.scaleTo(0.15, 0.2, 1);\n            var changeFront = cc.callFunc(function(target) {\n                target.getChildByName(\"FrontView\").active = true;\n                target.getChildByName(\"Background\").active = false;\n            });\n            var spawn = cc.spawn([mto,fan1]);\n            pokernode.runAction(spawn);\n\n\n            var d2 = cc.delayTime(0.15);\n            var fan2 = cc.scaleTo(0.1, 1, 1);\n            var animationFinished = cc.callFunc(function(target) {\n                // target.CurrentPosition = target.getPosition();\n                var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos2 = _this.CurrentPoker.node.convertToNodeSpaceAR(curPos1);\n                // cc.log(target);\n                target.setPosition(curPos2);\n                target.PreviousParent = target.parent;\n                target.parent = _this.CurrentPoker.node;\n                // cc.log(target.CurrentPosition);\n                target.PreviousPosition = currentPosition;\n                target.CurrentPosition = curPos1;\n            });\n            var sequ = cc.sequence([d2,changeFront,fan2,animationFinished]);\n            pokernode.runAction(sequ);\n        }\n\n        \n        \n\n        // var d3 = cc.delayTime(1.3);\n        // var destroyPokerNode = cc.callFunc(function(target) {\n        //     target.removeFromParent(true);\n        //     target.destroy();\n        // });\n        // var sequ2 = cc.sequence([d3,destroyPokerNode]);\n        // pokernode.runAction(sequ2);\n    },\n\n\n    pokerRandom:function() {\n        var array = new Array();\n        do {\n            var num = this.randomNum(1,53);\n            if (array.indexOf(num) === -1) {\n                array.push(num);\n            } else {\n                var index = array.indexOf(num);\n            }\n        } while (array.length < 52);\n        return array;\n    },\n    //生成从minNum到maxNum的随机数\n    randomNum:function(minNum, maxNum) {\n        var num = Math.floor(Math.random()*(minNum - maxNum) + maxNum);\n        return num;\n    },\n\n    StashClick:function (staBut) {\n        var _this = this;\n        var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n        var pokerNode = mainJS.CurrentPoker.node;\n        var BackgroundView = staBut.currentTarget.getChildByName('Background');\n        cc.log(BackgroundView);\n        if (BackgroundView.childrenCount > 0) {\n\n\n\n            if (pokerNode.childrenCount > 0) {\n                cc.log(\"中间节点被占了,需要先执行中间卡牌动画\");\n                mainJS.fanzhuan(pokerNode.children[0]);\n            } else {\n                \n            }\n\n\n            // 执行回转动画\n            var poker = BackgroundView.children[0];\n            // 先切换挂载的节点\n            // var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            // var curPos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            // poker.setPosition(cc.v2(curPos1.x - curPos3.x,curPos1.y - curPos3.y));\n            // poker.parent = pokerNode;\n\n            \n            // var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            // var pos2 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            // var mto = cc.moveBy(0.3, cc.v2(pos2.x - pos1.x + 65,pos2.y - pos1.y));\n            // var totation = cc.rotateTo(0.3,0);\n            // var spawn = cc.spawn([mto,totation]);\n            // poker.runAction(spawn);\n\n\n            var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos2 = pokerNode.convertToNodeSpaceAR(pos1);\n            poker.setPosition(pos2);\n            var mto = cc.moveBy(0.15, cc.v2(pos3.x - pos1.x + 65,pos3.y - pos1.y));\n            var totation = cc.rotateTo(0.15,0);\n            var spawn = cc.spawn([mto,totation]);\n            poker.runAction(spawn);\n            poker.PreviousParent = poker.parent;\n            poker.parent = pokerNode;\n            poker.CurrentPosition = poker.PreviousPosition;\n            poker.PreviousPosition = cc.v2(0,0);\n            poker.interactable = true;\n            // 执行牌局回退\n\n\n        } else {\n            if (_this.CurrentPoker.node.childrenCount > 0) {\n                cc.log(\"我有孩子节点\");\n                // 执行旋转动画\n                var poker = _this.CurrentPoker.node.children[0];\n\n                // 先切换挂载的节点\n                var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos3 = BackgroundView.convertToWorldSpaceAR(cc.v2(0,0));\n                poker.setPosition(cc.v2(curPos1.x - curPos3.x,curPos1.y - curPos3.y));\n                poker.PreviousParent = poker.parent;\n                poker.parent = BackgroundView;\n\n                var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                var pos2 = BackgroundView.convertToWorldSpaceAR(cc.v2(0,0));\n                var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x,pos2.y - pos1.y));\n                var totation = cc.rotateTo(0.15,17);\n                var spawn = cc.spawn([mto,totation]);\n                poker.runAction(spawn);\n                poker.getComponent(cc.Button).interactable = false;\n                poker.interactable = false;\n                var pos3 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                poker.PreviousPosition = poker.CurrentPosition;\n                poker.CurrentPosition = pos3;\n                // 执行牌局跟进\n                var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n                cc.log(mainJS.PokerInstanceBackground.node.children);\n                if (mainJS.PokerInstanceBackground.node.childrenCount > 1) {\n                    var frontPoker = mainJS.PokerInstanceBackground.node.children[mainJS.PokerInstanceBackground.node.childrenCount - 1];\n                    cc.log(frontPoker);\n                    mainJS.fanzhuan(frontPoker);\n                }\n            }\n        }\n    },\n\n    stashAnimation:function (staBut) {\n        if (condition) {\n            \n        }\n    },\n\n    TimeOut: function() {\n        var alertNode = cc.find('Canvas/GameOverAlertView');\n        if (alertNode != null && alertNode.active === true) {\n            return;\n        }\n        cc.loader.loadRes(\"music/result_eff1\", cc.AudioClip, function(err, clip) {\n            cc.audioEngine.play(clip, false, 0.5);\n        });\n        var mainCanvas = cc.find('Canvas');\n        var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n        mainJS.TimerPause = true;\n        cc.audioEngine.pauseMusic();\n\n        \n        if (alertNode != null) {\n            alertNode.active = true;\n        } else {\n            var gameOverAlert = cc.instantiate(mainJS.GameOverAlertView);\n            alertNode = gameOverAlert;\n            gameOverAlert._name = \"GameOverAlertView\";\n            mainCanvas.addChild(gameOverAlert);\n        }\n        \n        var mask = cc.find('Canvas/GameOverAlertView/bg').getComponent(cc.Sprite);\n        alertNode.zIndex = 999;\n        mask.Color = cc.Color(0, 0, 0, 0);\n        \n    },\n\n    // update (dt) {},\n});\n"]}