{"version":3,"sources":["assets/Script/GameSceneScript.js"],"names":["cc","Class","Component","properties","leftSeconds","type","integer","ArrowTips","backgroundSong","AudioClip","PauseButton","Button","HelpButton","AudioButton","ReBackButton","TimeCountLabel","RoundLabel","ScoreLabel","PokerContainer","Prefab","myPoker","PokerInstanceBackground","Sprite","PokerStashView","CurrentPoker","TimerPause","Boolean","LastNode","Node","PokerErrorTips","SpriteFrame","PokerTargetTips","PokerAtlas","SpriteAtlas","ComboCount","onLoad","Tools","find","getComponent","audioEngine","playMusic","size","view","getFrameSize","log","width","height","windowSize","getVisibleSize","halfWidth","halfHeight","pauseSize","node","getBoundingBox","setAnchorPoint","setPosition","labelNode","getChildByName","label","Label","timeString","FormatMMSS","string","bg","firstR","i","pre","instantiate","_name","active","addChild","array","pokerRandom","PokerNumber","index","childrenCount","start","alertNode","fapai","_this","director","getScheduler","schedule","container","pokerNode","poker","children","DetectArrows","PokerRealNumber","loader","loadRes","err","clip","play","Font","font","color","Color","seq","lastPocker","currentPoker","fanzhuan","end_func","callFunc","target","base_count","parseInt","split","curPos1","convertToWorldSpaceAR","v2","curPos2","convertToNodeSpaceAR","PreviousParent","parent","CurrentPosition","bind","mto","moveTo","d1","delayTime","seque","sequence","runAction","pokernode","pos1","pos2","PreviousPosition","moveBy","x","y","fan1","scaleTo","changeFront","spawn","d2","fan2","animationFinished","getPosition","sequ","currentPosition","Array","num","randomNum","indexOf","push","length","minNum","maxNum","Math","floor","random","StashClick","staBut","mainJS","BackgroundView","currentTarget","pos3","totation","rotateTo","interactable","curPos3","frontPoker","stashAnimation","condition"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        leftSeconds: {\n            type:cc.integer,\n            default:240\n        },\n\n        ArrowTips: {\n            type:cc.integer,\n            default:3\n        },\n\n        backgroundSong: {\n            type:cc.AudioClip,\n            default:null\n        },\n        PauseButton: {\n            type:cc.Button,\n            default:null\n        },\n        HelpButton: {\n            type:cc.Button,\n            default:null\n        },\n        AudioButton: {\n            type:cc.Button,\n            default:null\n        },\n        ReBackButton: {\n            type:cc.Button,\n            default:null\n        },\n\n        TimeCountLabel: {\n            type:cc.Button,\n            default:null\n        },\n        RoundLabel: {\n            type:cc.Button,\n            default:null\n        },\n        ScoreLabel: {\n            type:cc.Button,\n            default:null\n        },\n\n        PokerContainer: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        myPoker: {\n            type:cc.Prefab,\n            default:null\n        },\n\n        PokerInstanceBackground: {\n            type:cc.Sprite,\n            default:null\n        },\n\n        PokerStashView: {\n            type:cc.Button,\n            default:null\n        },\n\n        CurrentPoker: {\n            type:cc.Sprite,\n            default:null\n        },\n\n        TimerPause: {\n            type:cc.Boolean,\n            default:false\n        },\n\n        LastNode: {\n            type:cc.Node,\n            default:null\n        },\n\n        PokerErrorTips: {\n            type:cc.SpriteFrame,\n            default:null\n        },\n        PokerTargetTips: {\n            type:cc.SpriteFrame,\n            default:null\n        },\n        PokerAtlas: {\n            type:cc.SpriteAtlas,\n            default:null\n        },\n        ComboCount: {\n            type:cc.integer,\n            default:0\n        }\n\n\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n\n        var Tools = cc.find('Canvas').getComponent('ToolsScript');\n\n        cc.audioEngine.playMusic(this.backgroundSong,true)\n        let size = cc.view.getFrameSize();\n        cc.log(size.width,size.height)\n        let windowSize = cc.view.getVisibleSize();\n        cc.log(windowSize.width,windowSize.height);\n\n        var halfWidth = windowSize.width / 2;\n        var halfHeight = windowSize.height / 2;\n        \n        var pauseSize = this.PauseButton.node.getBoundingBox();\n        this.PauseButton.node.setAnchorPoint(0,0);\n        this.PauseButton.node.setPosition(-halfWidth + 40,-halfHeight + 30)\n\n        this.HelpButton.node.setAnchorPoint(0,0);\n        this.HelpButton.node.setPosition(-87 - 40,-halfHeight + 11 + 30)\n\n        this.AudioButton.node.setAnchorPoint(0,0);\n        this.AudioButton.node.setPosition(40,-halfHeight + 11 + 30)\n\n        this.ReBackButton.node.setAnchorPoint(0,0);\n        this.ReBackButton.node.setPosition(halfWidth - 40 - 110,-halfHeight + 30)\n\n        this.TimeCountLabel.node.setAnchorPoint(1,0);\n        this.TimeCountLabel.node.setPosition(0-107,halfHeight - 90 - 50)\n        var labelNode = this.TimeCountLabel.node.getChildByName(\"Background\").getChildByName(\"Label\");\n        var label = labelNode.getComponent(cc.Label);\n        var timeString = Tools.FormatMMSS(this.leftSeconds);\n        label.string = timeString;\n\n        this.RoundLabel.node.setAnchorPoint(0.5,0);\n        this.RoundLabel.node.setPosition(0,halfHeight - 90 - 50)\n        var bg = this.RoundLabel.node.getChildByName(\"Background\");\n        var firstR = bg.getChildByName(\"FirstRound\");\n        // firstR.node.opacity = 0;\n        // bg.getChildByName(\"FirstRound\").node.hi = false;\n        // cc.log(bg.getChildByName(\"FirstRound\"));\n        // this.RoundLabel.node.getChildByName(\"Background\").node.getChildByName(\"FirstRound\").active = false;\n        // this.RoundLabel.node.getChildByName(\"Background\").node.getChildByName(\"FirstRound\").node.active = false;\n\n        this.ScoreLabel.node.setAnchorPoint(0,0);\n        this.ScoreLabel.node.setPosition(107,halfHeight - 90 - 50)\n\n        this.PokerInstanceBackground.node.setAnchorPoint(0.5,0.5);\n        // cc.log(this.PokerInstanceBackground.node.getContentSize().width,this.PokerInstanceBackground.node.getContentSize().height);\n        // cc.log(this.PokerInstanceBackground.node.getBoundingBox().size.width,this.PokerInstanceBackground.node.getBoundingBox().size.height);\n        this.PokerInstanceBackground.node.setPosition(-halfWidth + 130 + 20,-halfHeight + 93 + 160);\n\n        \n        this.CurrentPoker.node.setAnchorPoint(0,0.5);\n        this.CurrentPoker.node.setPosition(0,-halfHeight + 95 + 160);\n\n        this.PokerStashView.node.setAnchorPoint(1,1);\n        this.PokerStashView.node.setPosition(halfWidth - 10,-halfHeight + 190 + 160);\n\n        \n\n        this.ArrowTips = 3;\n        for (var i = 0; i < 4; i++) {\n            let pre = cc.instantiate(this.PokerContainer);\n            pre._name=\"PokerContainer\"+(i + 1);\n            pre.getChildByName(\"UpTip\").active = false;\n            this.node.addChild(pre);\n            pre.setAnchorPoint(0.5,0.5);\n            pre.setPosition(-halfWidth + 78 + 60 + 157*i,0);\n        }\n        var array = this.pokerRandom();\n        for (let i = 0; i < 52; i++) {\n            let pre = cc.instantiate(this.myPoker);\n            pre.PokerNumber = array[i];\n            // pre.PokerNumber = 52;\n            // cc.log(\"PokerInit\"+pre.PokerNumber);\n            // cc.log(\"dianshu\"+pre.PokerNumber);\n            pre._name=\"Poker_\"+i;\n            this.node.addChild(pre);\n            pre.getChildByName(\"FrontView\").active = false;\n            pre.setAnchorPoint(0.5,0.5);\n            pre.setPosition(0,0 - 200);\n        }\n\n        for (let index = 0; index < this.node.childrenCount; index++) {\n            \n            // cc.log(this.node.children[index]);\n            \n        }\n\n        \n    },\n\n    start () {\n\n        var Tools = cc.find('Canvas').getComponent('ToolsScript');\n        var bg = this.RoundLabel.node.getChildByName(\"Background\");\n        bg.getChildByName(\"FirstRound\").active = false;\n        bg.getChildByName(\"SecondRound\").active = false;\n        bg.getChildByName(\"ThirdRound\").active = false;\n\n        var alertNode = cc.find('Canvas/AlertView');\n        alertNode.active = false;\n\n\n        this.fapai(0);\n        \n        \n        var _this = this;\n        cc.director.getScheduler().schedule(function(){\n            if (_this.TimerPause === true) {\n                \n            } else {\n                _this.leftSeconds --;\n                _this.ArrowTips ++;\n            }\n            if (_this.ArrowTips === 2) {\n                for (let i = 1; i <= 4; i++) {\n                    var container = _this.node.getChildByName('PokerContainer'+i);\n                    var pokerNode = _this.CurrentPoker.node;\n                    poker = pokerNode.children[pokerNode.childrenCount - 1];\n                    if(poker != null) {\n                        // container.ScoreLabel.string\n                        container.getComponent(\"ContainerPrefabScript\").DetectArrows(poker.PokerRealNumber);\n                    } else {\n                        container.getComponent(\"ContainerPrefabScript\").DetectArrows(0);\n                    }\n                    cc.log(container);\n                }\n            }\n            var labelNode = this.TimeCountLabel.node.getChildByName(\"Background\").getChildByName(\"Label\");\n            var label = labelNode.getComponent(cc.Label);\n            if (_this.leftSeconds == 30) {\n                cc.loader.loadRes(\"music/time_tip\", cc.AudioClip, function(err, clip) {\n                    cc.audioEngine.play(clip, false, 0.5);\n                });\n                cc.loader.loadRes(\"font/red_time_font\", cc.Font, function(err, font) {\n                    label.font = font;\n                });\n            }\n            var timeString = Tools.FormatMMSS(_this.leftSeconds);\n            cc.log(timeString);\n            label.string = timeString;\n            label.color = new cc.Color(255, 0, 0, 255);\n            // cc.log(_this.TimerPause)\n        },_this,1,100,1,false);\n    },\n// 发牌函数\n    fapai:function(seq) {\n\n        var _this = this;\n        let size = cc.view.getVisibleSize();\n        let lastPocker = _this.PokerInstanceBackground.node.getChildByName(\"Poker_\"+(seq - 1));\n        let currentPoker = _this.node.getChildByName(\"Poker_\"+seq);\n        if (currentPoker === null) {\n            cc.log(\"Test\",lastPocker,currentPoker);\n            _this.fanzhuan(lastPocker);\n            _this.ArrowTips = 0;\n            return;\n        }\n        cc.loader.loadRes(\"music/init_pai\", cc.AudioClip, function(err, clip) {\n            cc.audioEngine.play(clip, false, 0.3);\n        });\n        // 回调\n        var end_func = cc.callFunc(function(target) {\n            var base_count = parseInt(target._name.split(\"_\")[1]) + 1;\n\n            var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n            var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1);\n            // cc.log(target);\n            target.setPosition(curPos2);\n            target.PreviousParent = target.parent;\n            target.parent = _this.PokerInstanceBackground.node;\n            target.CurrentPosition = curPos1;\n            _this.fapai(base_count);\n\n        }.bind(currentPoker))\n\n        var mto = cc.moveTo(0.05, cc.v2((-size.width / 2)+ 20 + 72+2.2*seq,(-size.height / 2) + 95 + 160));\n        var d1 = cc.delayTime(0.01);\n        var seque = cc.sequence([d1, mto, end_func]);\n        currentPoker.runAction(seque);\n        \n    },\n\n    fanzhuan:function(pokernode) {\n        let size = cc.view.getVisibleSize();\n        var _this = this;\n\n        // 如果当前节点的parent为PokerInstanceBackground，则说明需要往中间移动，如果是在中间则需要往左边移动\n        // _this.PokerInstanceBackground.node\n        if (pokernode.parent === _this.CurrentPoker.node) {\n            var d1 = cc.delayTime(0.01);\n            var pos1 = pokernode.CurrentPosition;\n            var pos2 = pokernode.PreviousPosition;\n            var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x,pos2.y - pos1.y));\n            var fan1 = cc.scaleTo(0.15, 0.2, 1);\n            var changeFront = cc.callFunc(function(target) {\n                target.getChildByName(\"FrontView\").active = false;\n                target.getChildByName(\"Background\").active = true;\n            });\n            var spawn = cc.spawn([mto,fan1]);\n            pokernode.runAction(spawn);\n\n            var d2 = cc.delayTime(0.15);\n            var fan2 = cc.scaleTo(0.1, 1, 1);\n            var animationFinished = cc.callFunc(function(target) {\n                target.CurrentPosition = target.getPosition();\n                \n                var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos2 = _this.PokerInstanceBackground.node.convertToNodeSpaceAR(curPos1);\n                // cc.log(target);\n                target.setPosition(curPos2);\n                target.PreviousParent = target.parent;\n                target.parent = _this.PokerInstanceBackground.node;\n                // cc.log(target.CurrentPosition);\n                target.PreviousPosition = target.CurrentPosition;\n                target.CurrentPosition = curPos1;\n            });\n            var sequ = cc.sequence([d2,changeFront,fan2,animationFinished]);\n            pokernode.runAction(sequ);\n            return;\n        } else {\n\n            cc.loader.loadRes(\"music/solitaire_deel\", cc.AudioClip, function(err, clip) {\n                cc.audioEngine.play(clip, false, 0.5);\n            });\n            var currentPosition = pokernode.convertToWorldSpaceAR(cc.v2(0,0));\n            // 先反转90变正面数据，再反转-90回来，结束，整个过程移动牌面到指定位置\n            var d1 = cc.delayTime(0.01);\n            // var mto = cc.moveTo(0.3, cc.v2(0 + 69,(-size.height / 2) + 95 + 160));\n            var pos1 = pokernode.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos2 = _this.CurrentPoker.node.convertToWorldSpaceAR(cc.v2(0,0));\n            var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x + 66,pos2.y - pos1.y));\n            var fan1 = cc.scaleTo(0.15, 0.2, 1);\n            var changeFront = cc.callFunc(function(target) {\n                target.getChildByName(\"FrontView\").active = true;\n                target.getChildByName(\"Background\").active = false;\n            });\n            var spawn = cc.spawn([mto,fan1]);\n            pokernode.runAction(spawn);\n\n\n            var d2 = cc.delayTime(0.15);\n            var fan2 = cc.scaleTo(0.1, 1, 1);\n            var animationFinished = cc.callFunc(function(target) {\n                // target.CurrentPosition = target.getPosition();\n                var curPos1 = target.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos2 = _this.CurrentPoker.node.convertToNodeSpaceAR(curPos1);\n                // cc.log(target);\n                target.setPosition(curPos2);\n                target.PreviousParent = target.parent;\n                target.parent = _this.CurrentPoker.node;\n                // cc.log(target.CurrentPosition);\n                target.PreviousPosition = currentPosition;\n                target.CurrentPosition = curPos1;\n            });\n            var sequ = cc.sequence([d2,changeFront,fan2,animationFinished]);\n            pokernode.runAction(sequ);\n        }\n\n        \n        \n\n        // var d3 = cc.delayTime(1.3);\n        // var destroyPokerNode = cc.callFunc(function(target) {\n        //     target.removeFromParent(true);\n        //     target.destroy();\n        // });\n        // var sequ2 = cc.sequence([d3,destroyPokerNode]);\n        // pokernode.runAction(sequ2);\n    },\n\n\n    pokerRandom:function() {\n        var array = new Array();\n        do {\n            var num = this.randomNum(1,53);\n            if (array.indexOf(num) === -1) {\n                array.push(num);\n            } else {\n                var index = array.indexOf(num);\n            }\n        } while (array.length < 52);\n        return array;\n    },\n    //生成从minNum到maxNum的随机数\n    randomNum:function(minNum, maxNum) {\n        var num = Math.floor(Math.random()*(minNum - maxNum) + maxNum);\n        return num;\n    },\n\n    StashClick:function (staBut) {\n        var _this = this;\n        var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n        var pokerNode = mainJS.CurrentPoker.node;\n        var BackgroundView = staBut.currentTarget.getChildByName('Background');\n        cc.log(BackgroundView);\n        if (BackgroundView.childrenCount > 0) {\n\n\n\n            if (pokerNode.childrenCount > 0) {\n                cc.log(\"中间节点被占了,需要先执行中间卡牌动画\");\n                mainJS.fanzhuan(pokerNode.children[0]);\n            } else {\n                \n            }\n\n\n            // 执行回转动画\n            var poker = BackgroundView.children[0];\n            // 先切换挂载的节点\n            // var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            // var curPos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            // poker.setPosition(cc.v2(curPos1.x - curPos3.x,curPos1.y - curPos3.y));\n            // poker.parent = pokerNode;\n\n            \n            // var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            // var pos2 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            // var mto = cc.moveBy(0.3, cc.v2(pos2.x - pos1.x + 65,pos2.y - pos1.y));\n            // var totation = cc.rotateTo(0.3,0);\n            // var spawn = cc.spawn([mto,totation]);\n            // poker.runAction(spawn);\n\n\n            var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos3 = pokerNode.convertToWorldSpaceAR(cc.v2(0,0));\n            var pos2 = pokerNode.convertToNodeSpaceAR(pos1);\n            poker.setPosition(pos2);\n            var mto = cc.moveBy(0.15, cc.v2(pos3.x - pos1.x + 65,pos3.y - pos1.y));\n            var totation = cc.rotateTo(0.15,0);\n            var spawn = cc.spawn([mto,totation]);\n            poker.runAction(spawn);\n            poker.PreviousParent = poker.parent;\n            poker.parent = pokerNode;\n            poker.CurrentPosition = poker.PreviousPosition;\n            poker.PreviousPosition = cc.v2(0,0);\n            poker.interactable = true;\n            // 执行牌局回退\n\n\n        } else {\n            if (_this.CurrentPoker.node.childrenCount > 0) {\n                cc.log(\"我有孩子节点\");\n                // 执行旋转动画\n                var poker = _this.CurrentPoker.node.children[0];\n\n                // 先切换挂载的节点\n                var curPos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                var curPos3 = BackgroundView.convertToWorldSpaceAR(cc.v2(0,0));\n                poker.setPosition(cc.v2(curPos1.x - curPos3.x,curPos1.y - curPos3.y));\n                poker.PreviousParent = poker.parent;\n                poker.parent = BackgroundView;\n\n                var pos1 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                var pos2 = BackgroundView.convertToWorldSpaceAR(cc.v2(0,0));\n                var mto = cc.moveBy(0.15, cc.v2(pos2.x - pos1.x,pos2.y - pos1.y));\n                var totation = cc.rotateTo(0.15,17);\n                var spawn = cc.spawn([mto,totation]);\n                poker.runAction(spawn);\n                poker.getComponent(cc.Button).interactable = false;\n                poker.interactable = false;\n                var pos3 = poker.convertToWorldSpaceAR(cc.v2(0,0));\n                poker.PreviousPosition = poker.CurrentPosition;\n                poker.CurrentPosition = pos3;\n                // 执行牌局跟进\n                var mainJS = cc.find('Canvas').getComponent('GameSceneScript');\n                cc.log(mainJS.PokerInstanceBackground.node.children);\n                var frontPoker = mainJS.PokerInstanceBackground.node.children[mainJS.PokerInstanceBackground.node.childrenCount - 1];\n                cc.log(frontPoker);\n                mainJS.fanzhuan(frontPoker);\n            }\n        }\n    },\n\n    stashAnimation:function (staBut) {\n        if (condition) {\n            \n        }\n    }\n\n    // update (dt) {},\n});\n"]}